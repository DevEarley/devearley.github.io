<!DOCTYPE html>
<meta name="viewport" content="width=device-width, user-scalable=no" />
<html style="overflow:auto;">
<head>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <title>Map Editor</title>
    <meta charset="utf-8" />
</head>
<body>
    <div id="CanvasContainer" style="position:absolute; top:0; left:0; width:100vw; height:100vh; overflow:scroll;">
        <canvas width="2048" height="2048"></canvas>
    </div>

    <div id="ToolBars">
        <div id="ToolBarsA">
            <div id="TilesToolBarContainter">
                <div class="toolbar-button" id="TilesToolBarButton" onclick="clickTilesToolBarButton()"> + </div>
                <div class="toolbar" id="TilesToolBar">
                    <h1 onclick="clickTilesToolBarButton()">Tiles</h1>
                    <div class="button" onclick="clickEyedropperTool()">
                        <div id="PaintBrushPreview" style="width:16px;height:16px;"></div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" class="number-input" id="PaintBrushInputX" type="number" placeholder="X" />
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" class="number-input" id="PaintBrushInputY" type="number" placeholder="Y" />
                    </div>
                    <div style="margin-bottom:60px;margin-top:20px;margin-left:10px;">
                        <div><input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameTileInput" placeholder="Name" style="float:left;" /></div>
                        <div class="button" style="width:100px; float:right;" onclick="clickRenameTile()">Rename</div>
                    </div>
                    <hr />
                    <div class="button" id="PaletteButton" onclick="clickPaletteButton()">
                        Toggle Palette (P)
                    </div>
                    <div class="button" id="BrushToolButton" onclick="clickPaintTool()">
                        Tile Brush (B)
                    </div>
                    <div class="button" id="BrushToolButton" onclick="clickPaintTool()">
                        Subtile Brush (B)
                    </div>
                    <div class="button" id="EraserToolButton" onclick="clickEraserTool()">
                        Tile Eraser (E)
                    </div>
                    <div class="button" id="EyedropperToolButton" onclick="clickEyedropperTool()">
                        Eyedropper (I)
                    </div>
                    <div class="button" id="NineSliceToolButton" onclick="clickNineSliceTool()">
                        Nine Slice (N)
                    </div>
                    <div class="button" id="WallSliceToolButton" onclick="clickWallSliceTool()">
                        Wall Slice (W)
                    </div>
                </div>
            </div>
            <div id="EventsToolBarContainter">
                <div class="toolbar-button" id="EventsToolBarButton" onclick="clickEventsToolBarButton()"> + </div>
                <div class="toolbar" id="EventsToolBar">
                    <h1 onclick="clickEventsToolBarButton()">Events</h1>
                    <div id="EventsPreview"></div>

                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameEventInput" placeholder="Name" style="float:right;" />
                    </div>
                    <div class="button" style="width:100px;" onclick="clickRenameEvent()">Rename </div>
                    <hr />
                    <div class="button" onclick="clickAddEventToSelectedTrigger()">
                        Add Event To Selected Trigger
                    </div>
                    <div class="button" onclick="clickRemoveSelectedEvent()">
                        Remove Selected Event
                    </div>
                </div>
            </div>
            <div id="MapToolBarContainter">
                <div class="toolbar-button" id="MapToolBarButton" onclick="clickMapToolBarButton()"> + </div>
                <div class="toolbar" id="MapToolBar">
                    <h1 onclick="clickMapToolBarButton()">Map</h1>
                    <div style="padding-bottom:40px;">
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="File" onchange="validateImportButton()" type="file" />
                    </div>
                    <div class="button" id="ImportMap" onclick="clickImportMapButton()">
                        Import Map
                    </div>
                    <hr />
                    <div style="padding-bottom:40px ;">
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" placeholder="Map Name" onchange="validateExportButton()" id="MapName" type="text" />
                    </div>
                    <div class="button" id="ExportMap" onclick="clickExportMapButton()">
                        Export Map
                    </div>
                    <hr style="margin-top:20px;margin-bottom:40px;border:1px solid #33aa33 ;" />
                    <div class="button" onclick="loadSample()">
                        Load Sample
                    </div>
                </div>
            </div>
        </div>
        <div id="ToolBarsB">
            <div id="TriggersToolBarContainter">
                <div class="toolbar-button" id="TriggersToolBarButton" onclick="clickTriggersToolBarButton()"> + </div>
                <div class="toolbar" id="TriggersToolBar">
                    <h1 onclick="clickTriggersToolBarButton()">Triggers</h1>
                    <div id="TriggersPreview"></div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameTriggerInput" placeholder="Name" style="float:right;" />
                    </div>
                    <div class="button" style="width:100px;" onclick="clickRenameTrigger()">Rename </div>
                    <hr />
                    <div class="button" id="TriggerToolButton" onclick="clickTriggerBrushTool()">
                        Create Trigger Area (T)
                    </div>
                    <div class="button" onclick="clickRemoveSelectedTrigger()">
                        Remove Selected Trigger
                    </div>
                    <div class="button" onclick="clickToggleTiggerViewMode()">
                        Toggle Tigger View Mode
                    </div>
                </div>
            </div>
            <div id="ConditionsToolBarContainter">
                <div class="toolbar-button" id="ConditionsToolBarButton" onclick="clickConditionsToolBarButton()"> + </div>
                <div class="toolbar" id="ConditionsToolBar">
                    <h1 onclick="clickConditionsToolBarButton()">Conditions</h1>
                    <div id="ConditionsPreview"></div>
                    <div>
                        <div class="button" style="width:150px;" onclick="clickUpdateCondition()">Update Condition</div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionNameInput" placeholder="Name" style="float:right;" />

                    </div>
                    <div style="height:130px">
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionLHSInput" placeholder="LHS" style="float:right;" />
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionOperationInput" placeholder="Operation" style="float:right;" />
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionRHSInput" placeholder="RHS" style="float:right;" />
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionTrueActionInput" placeholder="True Action" style="float:right;" />
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ConditionFalseActionInput" placeholder="False Action" style="float:right;" />
                    </div>

                    <hr />

                    <div class="button" onclick="clickAddConditionToSelectedEvent()">
                        Add Condition To Selected Event
                    </div>
                    <div class="button" onclick="clickRemoveSelectedCondition()">
                        Remove Selected Condition
                    </div>
                </div>
            </div>
        </div>

        <div id="ToolBarsD">
            <div id="LayersToolBarContainter">
                <div class="toolbar-button-right" id="LayersToolBarButton" onclick="clickLayersToolBarButton()"> + </div>
                <div class="toolbar-right" id="LayersToolBar">
                    <h1 onclick="clickLayersToolBarButton()">Layers</h1>
                    <div id="LayersPreview" class="preview"></div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameLayerInput" placeholder="Name" style="float:right;" />
                    </div>
                    <div class="button" style="width:100px;" onclick="clickRenameLayer()">Rename </div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="ReorderLayerInput" placeholder="Order" style="float:right;" />
                    </div>
                    <div class="button" style="width:100px;" onclick="clickReorderLayer()">Reorder</div>
                    <hr />
                    <div class="button" onclick="clickAddLayer()">
                        Add Layer
                    </div>
                    <div class="button" onclick="clickClearLayer()">
                        Clear Current Layer
                    </div>
                    <div class="button" onclick="clickDeleteLayer()">
                        Delete Current Layer
                    </div>
                    <div class="button" onclick="clickCopyLayer()">
                        Copy From Current Layer
                    </div>
                    <div class="button" onclick="clickPasteLayer()">
                        Paste Into Current Layer
                    </div>
                </div>
            </div>
            <div id="ParamsToolBarContainter">
                <div class="toolbar-button-right" id="ParamsToolBarButton" onclick="clickParamsToolBarButton()"> + </div>
                <div class="toolbar-right" id="ParamsToolBar">
                    <h1 onclick="clickParamsToolBarButton()">Params</h1>
                    <div id="ParamsPreview"></div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameParamNameInput" placeholder="Name" style="float:right;" />
                    </div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameParamValueInput" placeholder="Value" style="float:right;" />
                    </div>

                    <div class="button" style="width:100px;" onclick="clickUpdateParam()">Update </div>
                    <hr />
                    <div class="button" onclick="clickAddParamToSelectedAction()">
                        Add Param To Selected Action
                    </div>
                    <div class="button" onclick="clickAddParamToSelectedCondition()">
                        Add Param To Selected Condition
                    </div>

                </div>
            </div>
            <div id="OptionsToolBarContainter">
                <div class="toolbar-button-right" id="OptionsToolBarButton" onclick="clickOptionsToolBarButton()"> + </div>
                <div class="toolbar-right" id="OptionsToolBar">
                    <h1 onclick="clickOptionsToolBarButton()">Options</h1>
                    <div class="button" onclick="clickTogglePerspective()">
                        Toggle Perspective Mode (Z)
                    </div>
                    <div class="button" onclick="clickToggleXRay()">
                        Toggle XRay Mode (X)
                    </div>
                    <div class="button" onclick="clickToggleFog()">
                        Toggle Fog Mode (F)
                    </div>

                </div>
            </div>
        </div>

        <div id="ToolBarsC">
            <div>
                <div class="toolbar-button-right" onclick="clickOpenGameStateEditor()"> + </div>
                <div class="toolbar-right">
                    <h1 onclick="clickOpenGameStateEditor()">Game State</h1>
                </div>
            </div>
            <div>
                <div class="toolbar-button-right" onclick="clickOpenPlayerStateEditor()"> + </div>
                <div class="toolbar-right">
                    <h1 onclick="clickOpenPlayerStateEditor()">Player State</h1>
                </div>
            </div>
            <div id="ActionsToolBarContainter">
                <div class="toolbar-button-right" id="ActionsToolBarButton" onclick="clickActionsToolBarButton()"> + </div>
                <div class="toolbar-right" id="ActionsToolBar">
                    <h1 onclick="clickActionsToolBarButton()">Actions</h1>
                    <div id="ActionsPreview"></div>
                    <div>
                        <input onfocus="onFocusInput()" onblur="onBlurInput()" id="RenameActionInput" placeholder="Name" style="float:right;" />
                    </div>
                    <div class="button" style="width:100px;" onclick="clickRenameAction()">Rename </div>
                    <hr />

                    <div class="button" onclick="clickAddActionToSelectedEvent()">
                        Add Action To Selected Event
                    </div>
                    <div class="button" onclick="clickRemoveSelectedAction()">
                        Remove Selected Action
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div id="KeyboardHelp">
        <i class="fa fa-circle-thin"></i>
        <span id="Shoshin">
            初
            <br />
            心
        </span>
        Map Editor
        <div>
            <div>
                <a href="http://devearley.github.io" target="_blank">  <small> © Shoshin Game Studio | Alex Earley 2017 | All rights reserved</small></a>
            </div>
            <div id="LastTilePreview"><br /></div>
            <div id="TileInfo"><br /></div>
            <ul>
                <li>
                    E - Tile Eraser Tool
                </li>
                <li>
                    B - Tile Brush Tool
                </li>
                <li>
                    I - Eyedropper Tool
                </li>
                <li>
                    W - Wall Slice Tool
                </li>
                <li>
                    N - Nine Slice Tool
                </li>
                <li>
                    T - Trigger Brush Tool
                </li>
                <li>
                    Q - Toggle Context Menu
                </li>
                <li>
                    P - Toggle Palette Mode
                </li>
                <li>
                    X - Toggle XRay Mode
                </li>
                <li>
                    F - Toggle Fog Mode
                </li>
                <li>
                    Z - Toggle Perspective Mode
                </li>
            </ul>
        </div>

    </div>
    <div id="PopupContainer">
        <div id="CloseX" onclick="clickClosePopups()">Close</div>
        <div id="GameStatePopup"></div>
        <div id="PlayerStatePopup"></div>
    </div>

    <div id="PopupOverlay" onclick="clickClosePopups()"></div>
    <script src="sample.js" type="text/javascript"></script>
    <script src="autoscroll.js" type="text/javascript"></script>
    <script src="appInterface.js" type="text/javascript"></script>
    <script src="mapEditor.js" type="text/javascript"></script>
    <script src="triggerEditor.js" type="text/javascript"></script>
    <script src="conditionEditor.js" type="text/javascript"></script>
    <script src="eventEditor.js" type="text/javascript"></script>
    <script src="actionEditor.js" type="text/javascript"></script>
    <script src="paramEditor.js" type="text/javascript"></script>
    <script src="stateEditor.js" type="text/javascript"></script>
    <script src="appLoop.js" type="text/javascript"></script>
    <a href="" id="HiddenDownloadAnchor"></a>
</body>
</html>
