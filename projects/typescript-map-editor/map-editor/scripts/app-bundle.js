define('app',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var App = (function () {
        function App() {
            this.message = 'Hello World!';
        }
        return App;
    }());
    exports.App = App;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7SUFBQTtRQUFBO1lBQ0UsWUFBTyxHQUFHLGNBQWMsQ0FBQztRQUMzQixDQUFDO1FBQUQsVUFBQztJQUFELENBRkEsQUFFQyxJQUFBO0lBRlksa0JBQUciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEFwcCB7XG4gIG1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbn1cbiJdLCJzb3VyY2VSb290Ijoic3JjIn0=

define('environment',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.default = {
        debug: true,
        testing: true
    };
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztJQUFBLGtCQUFlO1FBQ2IsS0FBSyxFQUFFLElBQUk7UUFDWCxPQUFPLEVBQUUsSUFBSTtLQUNkLENBQUMiLCJmaWxlIjoiZW52aXJvbm1lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIGRlYnVnOiB0cnVlLFxuICB0ZXN0aW5nOiB0cnVlXG59O1xuIl0sInNvdXJjZVJvb3QiOiJzcmMifQ==

define('main',["require", "exports", "./environment"], function (require, exports, environment_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function configure(aurelia) {
        aurelia.use
            .standardConfiguration()
            .feature('resources');
        if (environment_1.default.debug) {
            aurelia.use.developmentLogging();
        }
        if (environment_1.default.testing) {
            aurelia.use.plugin('aurelia-testing');
        }
        aurelia.start().then(function () { return aurelia.setRoot(); });
    }
    exports.configure = configure;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBR0EsbUJBQTBCLE9BQWdCO1FBQ3hDLE9BQU8sQ0FBQyxHQUFHO2FBQ1IscUJBQXFCLEVBQUU7YUFDdkIsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXhCLEVBQUUsQ0FBQyxDQUFDLHFCQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDbkMsQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLHFCQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFFRCxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQU0sT0FBQSxPQUFPLENBQUMsT0FBTyxFQUFFLEVBQWpCLENBQWlCLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBZEQsOEJBY0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXVyZWxpYX0gZnJvbSAnYXVyZWxpYS1mcmFtZXdvcmsnXG5pbXBvcnQgZW52aXJvbm1lbnQgZnJvbSAnLi9lbnZpcm9ubWVudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoYXVyZWxpYTogQXVyZWxpYSkge1xuICBhdXJlbGlhLnVzZVxuICAgIC5zdGFuZGFyZENvbmZpZ3VyYXRpb24oKVxuICAgIC5mZWF0dXJlKCdyZXNvdXJjZXMnKTtcblxuICBpZiAoZW52aXJvbm1lbnQuZGVidWcpIHtcbiAgICBhdXJlbGlhLnVzZS5kZXZlbG9wbWVudExvZ2dpbmcoKTtcbiAgfVxuXG4gIGlmIChlbnZpcm9ubWVudC50ZXN0aW5nKSB7XG4gICAgYXVyZWxpYS51c2UucGx1Z2luKCdhdXJlbGlhLXRlc3RpbmcnKTtcbiAgfVxuXG4gIGF1cmVsaWEuc3RhcnQoKS50aGVuKCgpID0+IGF1cmVsaWEuc2V0Um9vdCgpKTtcbn1cbiJdLCJzb3VyY2VSb290Ijoic3JjIn0=

define('resources/index',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function configure(config) {
    }
    exports.configure = configure;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc291cmNlcy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7SUFFQSxtQkFBMEIsTUFBOEI7SUFFeEQsQ0FBQztJQUZELDhCQUVDIiwiZmlsZSI6InJlc291cmNlcy9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RnJhbWV3b3JrQ29uZmlndXJhdGlvbn0gZnJvbSAnYXVyZWxpYS1mcmFtZXdvcmsnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlKGNvbmZpZzogRnJhbWV3b3JrQ29uZmlndXJhdGlvbikge1xuICAvL2NvbmZpZy5nbG9iYWxSZXNvdXJjZXMoW10pO1xufVxuIl0sInNvdXJjZVJvb3QiOiJzcmMifQ==

define('map-editor-canvas',["require", "exports", "./map-editor-tools", "./map-editor-triggers"], function (require, exports, iMapEditorTools, iMapEditorTriggers) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MapEditorCanvas = (function () {
        function MapEditorCanvas(mapEditorTools, mapEditorTriggers, currentLayer, paletteMode, lastTile, tileInfo, copiedLayer, palette, layers, renameTileValue, showFog, perspectiveView, xRayView, sprites, sprites2, mouseX, mouseY, selectedBrushX, selectedBrushY, brushTool) {
            if (mapEditorTools === void 0) { mapEditorTools = new iMapEditorTools.MapEditorTools(); }
            if (mapEditorTriggers === void 0) { mapEditorTriggers = new iMapEditorTriggers.MapEditorTriggers(); }
            if (currentLayer === void 0) { currentLayer = 0; }
            if (paletteMode === void 0) { paletteMode = false; }
            if (lastTile === void 0) { lastTile = {
                layerIndex: 0, tile: {
                    name: '', xIndex: 0,
                    yIndex: 0,
                    xPosition: 0,
                    yPosition: 0,
                }
            }; }
            if (tileInfo === void 0) { tileInfo = ""; }
            if (copiedLayer === void 0) { copiedLayer = null; }
            if (palette === void 0) { palette = new Array(); }
            if (layers === void 0) { layers = new Array(); }
            if (renameTileValue === void 0) { renameTileValue = ""; }
            if (showFog === void 0) { showFog = false; }
            if (perspectiveView === void 0) { perspectiveView = false; }
            if (xRayView === void 0) { xRayView = false; }
            if (sprites === void 0) { sprites = new Image(); }
            if (sprites2 === void 0) { sprites2 = new Image(); }
            if (mouseX === void 0) { mouseX = 0; }
            if (mouseY === void 0) { mouseY = 0; }
            if (selectedBrushX === void 0) { selectedBrushX = 0; }
            if (selectedBrushY === void 0) { selectedBrushY = 0; }
            if (brushTool === void 0) { brushTool = { state: 0, mode: 0, xPos1: 0, yPos1: 0, xPos2: 0, yPos2: 0 }; }
            this.mapEditorTools = mapEditorTools;
            this.mapEditorTriggers = mapEditorTriggers;
            this.currentLayer = currentLayer;
            this.paletteMode = paletteMode;
            this.lastTile = lastTile;
            this.tileInfo = tileInfo;
            this.copiedLayer = copiedLayer;
            this.palette = palette;
            this.layers = layers;
            this.renameTileValue = renameTileValue;
            this.showFog = showFog;
            this.perspectiveView = perspectiveView;
            this.xRayView = xRayView;
            this.sprites = sprites;
            this.sprites2 = sprites2;
            this.mouseX = mouseX;
            this.mouseY = mouseY;
            this.brushTool = brushTool;
            this.sprites.src = './spritesheet.png';
        }
        MapEditorCanvas.prototype.clickSelectLayer = function (_layerIndex) {
            this.currentLayer = _layerIndex;
            this.updateLayersPreview();
        };
        MapEditorCanvas.prototype.clickRenameTile = function () {
            var _x = this.mapEditorTools.paintBrushInputX;
            var _y = this.mapEditorTools.paintBrushInputY;
            for (var _ptileIndex in this.palette) {
                if (this.palette[_ptileIndex].xIndex == _x && this.palette[_ptileIndex].yIndex == _y) {
                    this.palette[_ptileIndex].name = this.renameTileValue;
                }
            }
            ;
            this.refreshTileInfo(this.palette[_ptileIndex]);
        };
        MapEditorCanvas.prototype.updateLayersPreview = function () {
        };
        MapEditorCanvas.prototype.refreshTileInfo = function (_tile) {
            this.tileInfo = this.generateHTMLForTile(_tile);
        };
        MapEditorCanvas.prototype.generateHTMLForTile = function (_tile) {
            var tileRow = "<tr><td style='width:40px'> x: " + _tile.xPosition +
                "</td><td style='width:40px'> y: " + _tile.yPosition + "</td>" +
                "<td style='width:320px; text-align:left;'> name: " + this.getTileName(_tile) + "</td></tr>";
            var trigger = this.mapEditorTools.getCurrentTrigger();
            var triggerRow = (trigger == undefined) ? "" : ("<tr><td> x: " + trigger.transform.x +
                "</td><td> y: " + trigger.transform.y + "</td>" +
                "<td>" + "Trigger: " + trigger.name +
                "</td></tr>");
            return "<table style='table-layout:fixed;width:400px;text-align:left;'>" +
                tileRow + triggerRow +
                "</table>";
        };
        MapEditorCanvas.prototype.getTileName = function (_tile) {
            return this.getPaletteName(_tile.xIndex, _tile.yIndex);
        };
        MapEditorCanvas.prototype.getPaletteName = function (_x, _y) {
            var _result = "";
            this.palette.forEach(function (_ptile, _tileIndex) {
                if (_ptile.xIndex == _x && _ptile.yIndex == _y)
                    _result = _ptile.name;
            });
            return _result;
        };
        return MapEditorCanvas;
    }());
    exports.MapEditorCanvas = MapEditorCanvas;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,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RyxFQUFFLEdBQUcsQ0FDL0MsY0FBYyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDcEMsZUFBZSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLE9BQU87Z0JBRS9DLE1BQU0sR0FBRyxXQUFXLEdBQUcsT0FBTyxDQUFDLElBQUk7Z0JBQ25DLFlBQVksQ0FBQyxDQUFDO1lBRWQsTUFBTSxDQUFDLGlFQUFpRTtnQkFDeEUsT0FBTyxHQUFHLFVBQVU7Z0JBQ3BCLFVBQVUsQ0FBQztRQUNmLENBQUM7UUFFQyxxQ0FBVyxHQUFYLFVBQVksS0FBSztZQUVmLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNELENBQUM7UUFDQSx3Q0FBYyxHQUFkLFVBQWUsRUFBRSxFQUFFLEVBQUU7WUFDbEIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsTUFBTSxFQUFFLFVBQVU7Z0JBQzdDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO29CQUMzQyxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztZQUM5QixDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDbkIsQ0FBQztRQWdiTCxzQkFBQztJQUFELENBcmdCQSxBQXFnQkMsSUFBQTtJQXJnQlksMENBQWUiLCJmaWxlIjoibWFwLWVkaXRvci1jYW52YXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaU1hcEVkaXRvclRvb2xzID0gcmVxdWlyZShcIi4vbWFwLWVkaXRvci10b29sc1wiKTtcclxuaW1wb3J0IGlNYXBFZGl0b3JUcmlnZ2VycyA9IHJlcXVpcmUoXCIuL21hcC1lZGl0b3ItdHJpZ2dlcnNcIik7XHJcbmltcG9ydCBpTWFwRWRpdG9yVHlwZXMgPSByZXF1aXJlKFwiLi9tYXAtZWRpdG9yLXR5cGVzXCIpO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcEVkaXRvckNhbnZhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgIHB1YmxpYyBtYXBFZGl0b3JUb29scyA9IG5ldyBpTWFwRWRpdG9yVG9vbHMuTWFwRWRpdG9yVG9vbHMoKSxcclxuICAgICAgIHB1YmxpYyBtYXBFZGl0b3JUcmlnZ2VycyA9IG5ldyBpTWFwRWRpdG9yVHJpZ2dlcnMuTWFwRWRpdG9yVHJpZ2dlcnMoKSxcclxuICAgICAgIHB1YmxpYyBjdXJyZW50TGF5ZXIgPSAwLFxyXG4gICAgICAgcHVibGljIHBhbGV0dGVNb2RlID0gZmFsc2UsXHJcbiAgICAgICBwdWJsaWMgbGFzdFRpbGUgPSB7XHJcbiAgICAgICAgICAgIGxheWVySW5kZXg6IDAsIHRpbGU6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICcnLCB4SW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICB5SW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICB4UG9zaXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICB5UG9zaXRpb246IDAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHB1YmxpYyB0aWxlSW5mbyA9IFwiXCIsXHJcbiAgICAgICBwdWJsaWMgY29waWVkTGF5ZXIgPSBudWxsLFxyXG4gICAgICAgcHVibGljIHBhbGV0dGUgPSBuZXcgQXJyYXk8aU1hcEVkaXRvclR5cGVzLlRpbGU+KCksXHJcbiAgICAgICBwdWJsaWMgbGF5ZXJzID0gbmV3IEFycmF5PGlNYXBFZGl0b3JUeXBlcy5MYXllcj4oKSxcclxuICAgICAgIHB1YmxpYyByZW5hbWVUaWxlVmFsdWUgPVwiXCIsXHJcbiAgICAgICBwdWJsaWMgc2hvd0ZvZyA9IGZhbHNlLFxyXG4gICAgICAgcHVibGljIHBlcnNwZWN0aXZlVmlldyA9IGZhbHNlLFxyXG4gICAgICAgcHVibGljIHhSYXlWaWV3ID0gZmFsc2UsXHJcbiAgICAgICBwdWJsaWMgc3ByaXRlcyA9IG5ldyBJbWFnZSgpLFxyXG4gICAgICAgcHVibGljIHNwcml0ZXMyID0gbmV3IEltYWdlKCksXHJcbiAgICAgICBwdWJsaWMgbW91c2VYID0gMCxcclxuICAgICAgIHB1YmxpYyBtb3VzZVkgPSAwLCBzZWxlY3RlZEJydXNoWCA9IDAsIHNlbGVjdGVkQnJ1c2hZID0gMCxcclxuICAgICAgIHB1YmxpYyBicnVzaFRvb2wgPSB7IHN0YXRlOiAwLCBtb2RlOiAwLCB4UG9zMTogMCwgeVBvczE6IDAsIHhQb3MyOiAwLCB5UG9zMjogMCB9KSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVzLnNyYyA9ICcuL3Nwcml0ZXNoZWV0LnBuZyc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNsaWNrU2VsZWN0TGF5ZXIoX2xheWVySW5kZXgpIHtcclxuICAgICAgIHRoaXMuY3VycmVudExheWVyID0gX2xheWVySW5kZXg7XHJcbiAgICAgICAgdGhpcy51cGRhdGVMYXllcnNQcmV2aWV3KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xpY2tSZW5hbWVUaWxlKCkge1xyXG4gICAgICAgIHZhciBfeCA9IHRoaXMubWFwRWRpdG9yVG9vbHMucGFpbnRCcnVzaElucHV0WDtcclxuICAgICAgICB2YXIgX3kgPSB0aGlzLm1hcEVkaXRvclRvb2xzLnBhaW50QnJ1c2hJbnB1dFk7XHJcbiAgICAgZm9yKCB2YXIgX3B0aWxlSW5kZXggIGluIHRoaXMucGFsZXR0ZSlcclxuICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbGV0dGVbX3B0aWxlSW5kZXhdLnhJbmRleCA9PSBfeCAmJiB0aGlzLnBhbGV0dGVbX3B0aWxlSW5kZXhdLnlJbmRleCA9PSBfeSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWxldHRlW19wdGlsZUluZGV4XS5uYW1lID0gdGhpcy5yZW5hbWVUaWxlVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFRpbGVJbmZvKHRoaXMucGFsZXR0ZVtfcHRpbGVJbmRleF0pO1xyXG4gICAgfVxyXG5cclxudXBkYXRlTGF5ZXJzUHJldmlldygpe1xyXG5cclxufVxyXG5cclxucmVmcmVzaFRpbGVJbmZvKF90aWxlKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudGlsZUluZm8gPSB0aGlzLmdlbmVyYXRlSFRNTEZvclRpbGUoX3RpbGUpO1xyXG4gICAgfVxyXG5cclxuICAgICAgIGdlbmVyYXRlSFRNTEZvclRpbGUoX3RpbGUpIHtcclxuICAgICAgICB2YXIgdGlsZVJvdyA9IFwiPHRyPjx0ZCBzdHlsZT0nd2lkdGg6NDBweCc+IHg6IFwiICsgX3RpbGUueFBvc2l0aW9uICtcclxuICAgICAgICBcIjwvdGQ+PHRkIHN0eWxlPSd3aWR0aDo0MHB4Jz4geTogXCIgKyBfdGlsZS55UG9zaXRpb24gKyBcIjwvdGQ+XCIgK1xyXG4gICAgICAgIFwiPHRkIHN0eWxlPSd3aWR0aDozMjBweDsgdGV4dC1hbGlnbjpsZWZ0Oyc+IG5hbWU6IFwiICsgdGhpcy5nZXRUaWxlTmFtZShfdGlsZSkgKyBcIjwvdGQ+PC90cj5cIjtcclxuICAgICAgICB2YXIgdHJpZ2dlciA9IHRoaXMubWFwRWRpdG9yVG9vbHMuZ2V0Q3VycmVudFRyaWdnZXIoKTtcclxuICAgICAgICB2YXIgdHJpZ2dlclJvdyA9ICh0cmlnZ2VyID09IHVuZGVmaW5lZCkgPyBcIlwiIDogKFxyXG4gICAgICAgIFwiPHRyPjx0ZD4geDogXCIgKyB0cmlnZ2VyLnRyYW5zZm9ybS54ICtcclxuICAgICAgICBcIjwvdGQ+PHRkPiB5OiBcIiArIHRyaWdnZXIudHJhbnNmb3JtLnkgKyBcIjwvdGQ+XCIgK1xyXG5cclxuICAgICAgICBcIjx0ZD5cIiArIFwiVHJpZ2dlcjogXCIgKyB0cmlnZ2VyLm5hbWUgK1xyXG4gICAgICAgIFwiPC90ZD48L3RyPlwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFwiPHRhYmxlIHN0eWxlPSd0YWJsZS1sYXlvdXQ6Zml4ZWQ7d2lkdGg6NDAwcHg7dGV4dC1hbGlnbjpsZWZ0Oyc+XCIgK1xyXG4gICAgICAgIHRpbGVSb3cgKyB0cmlnZ2VyUm93ICtcclxuICAgICAgICBcIjwvdGFibGU+XCI7XHJcbiAgICB9XHJcblxyXG4gICAgICBnZXRUaWxlTmFtZShfdGlsZSkge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYWxldHRlTmFtZShfdGlsZS54SW5kZXgsIF90aWxlLnlJbmRleCk7XHJcbiAgICB9XHJcbiAgICAgZ2V0UGFsZXR0ZU5hbWUoX3gsIF95KSB7XHJcbiAgICAgICAgdmFyIF9yZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMucGFsZXR0ZS5mb3JFYWNoKGZ1bmN0aW9uIChfcHRpbGUsIF90aWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKF9wdGlsZS54SW5kZXggPT0gX3ggJiYgX3B0aWxlLnlJbmRleCA9PSBfeSlcclxuICAgICAgICAgICAgICAgIF9yZXN1bHQgPSBfcHRpbGUubmFtZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gX3Jlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiByZWZyZXNoVGlsZUluZm8odGlsZSlcclxuICAgIC8vIHtcclxuICAgIC8vICAgICB0aWxlSW5mby5pbm5lckhUTUwgPSBnZW5lcmF0ZUhUTUxGb3JUaWxlKHRpbGUpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGNsaWNrQ29weUxheWVyKCkge1xyXG4gICAgLy8gICAgIGNvcGllZExheWVyID0gY3VycmVudExheWVyO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGNsaWNrUGFzdGVMYXllcigpIHtcclxuICAgIC8vICAgICBsYXllcnNbY3VycmVudExheWVyXS50aWxlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGF5ZXJzW2NvcGllZExheWVyXS50aWxlcykpO1xyXG4gICAgLy8gICAgIGxheWVyc1tjdXJyZW50TGF5ZXJdLm5hbWUgPSBsYXllcnNbY29waWVkTGF5ZXJdLm5hbWU7XHJcbiAgICAvLyAgICAgdXBkYXRlTGF5ZXJzUHJldmlldygpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGNsaWNrQWRkTGF5ZXIoKSB7XHJcbiAgICAvLyAgICAgbGF5ZXJzLnNwbGljZShjdXJyZW50TGF5ZXIgKyAxLCAwLCBjcmVhdGVMYXllcihcImxheWVyXCIgKyBsYXllcnMubGVuZ3RoLCBsYXllcnMubGVuZ3RoKSk7XHJcbiAgICAvLyAgICAgY3VycmVudExheWVyID0gY3VycmVudExheWVyICsgMTtcclxuICAgIC8vICAgICB1cGRhdGVMYXllcnNQcmV2aWV3KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gY2xpY2tEZWxldGVMYXllcigpIHtcclxuICAgIC8vICAgICBpZiAobGF5ZXJzLmxlbmd0aCA8PSAxKSByZXR1cm47XHJcbiAgICAvLyAgICAgbGF5ZXJzLnNwbGljZShjdXJyZW50TGF5ZXIsIDEpO1xyXG4gICAgLy8gICAgIGN1cnJlbnRMYXllci0tO1xyXG4gICAgLy8gICAgIHVwZGF0ZUxheWVyc1ByZXZpZXcoKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBjbGlja0NsZWFyTGF5ZXIoKSB7XHJcbiAgICAvLyAgICAgbGF5ZXJzW2N1cnJlbnRMYXllcl0udGlsZXMgPSBbXTtcclxuICAgIC8vICAgICB1cGRhdGVMYXllcnNQcmV2aWV3KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gY2xpY2tSZW5hbWVMYXllcigpIHtcclxuICAgIC8vICAgICBsYXllcnNbY3VycmVudExheWVyXS5uYW1lID0gcmVuYW1lTGF5ZXJJbnB1dC52YWx1ZTtcclxuICAgIC8vICAgICB1cGRhdGVMYXllcnNQcmV2aWV3KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gY2xpY2tSZW9yZGVyTGF5ZXIoKSB7XHJcbiAgICAvLyAgICAgbGF5ZXJzW2N1cnJlbnRMYXllcl0ub3JkZXIgPSByZW9yZGVyTGF5ZXJJbnB1dC52YWx1ZTtcclxuICAgIC8vICAgICB1cGRhdGVMYXllcnNQcmV2aWV3KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZHJhd01hcExvb3AoKSB7XHJcbiAgICAvLyAgICAgY2xlYXIoKTtcclxuICAgIC8vICAgICBpZiAocGFsZXR0ZU1vZGUpIHtcclxuICAgIC8vICAgICAgICAgZHJhd1BhbGV0dGUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIGRyYXdMYXllcnMoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKHNlbGVjdGVkVG9vbCA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgIGRyYXdTcHJpdGUoc3ByaXRlcywgbW91c2VYLCBtb3VzZVksIHNlbGVjdGVkQnJ1c2hYLCBzZWxlY3RlZEJydXNoWSk7XHJcbiAgICAvLyAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMzM2FhMzNcIjtcclxuICAgIC8vICAgICAgICAgY3R4LmZpbGxUZXh0KFwiKCBcIiArIG1vdXNlWCArIFwiLCBcIiArIG1vdXNlWSArIFwiIClcIiwgbW91c2VYICogMTYgKyAyMCwgbW91c2VZICogMTYgKyAyMCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmIChzZWxlY3RlZFRvb2wgPT0gMykge1xyXG4gICAgLy8gICAgICAgICBpZiAoYnJ1c2hUb29sLnN0YXRlID09IDApIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoc3ByaXRlcywgbW91c2VYLCBtb3VzZVksIHNlbGVjdGVkQnJ1c2hYLCBzZWxlY3RlZEJydXNoWSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBkcmF3U3ByaXRlKHNwcml0ZXMsIGJydXNoVG9vbC54UG9zMSwgYnJ1c2hUb29sLnlQb3MxLCBzZWxlY3RlZEJydXNoWCwgc2VsZWN0ZWRCcnVzaFkpO1xyXG4gICAgLy8gICAgICAgICAgICAgZHJhd1Nwcml0ZShzcHJpdGVzLCBtb3VzZVgsIG1vdXNlWSwgc2VsZWN0ZWRCcnVzaFggKyAyLCBzZWxlY3RlZEJydXNoWSArIDIpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMzM2FhMzNcIjtcclxuICAgIC8vICAgICAgICAgY3R4LmZpbGxUZXh0KFwiKCBcIiArIG1vdXNlWCArIFwiLCBcIiArIG1vdXNlWSArIFwiIClcIiwgbW91c2VYICogMTYgKyAyMCwgbW91c2VZICogMTYgKyAyMCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmIChzZWxlY3RlZFRvb2wgPT0gNCkge1xyXG4gICAgLy8gICAgICAgICBpZiAoYnJ1c2hUb29sLnN0YXRlID09IDApIHtcclxuXHJcbiAgICAvLyAgICAgICAgICAgICBkcmF3U3ByaXRlKHNwcml0ZXMsIG1vdXNlWCArIDEsIG1vdXNlWSArIDEsIHNlbGVjdGVkQnJ1c2hYLCBzZWxlY3RlZEJydXNoWSk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICBkcmF3U3ByaXRlKHNwcml0ZXMsIGJydXNoVG9vbC54UG9zMSArIDEsIGJydXNoVG9vbC55UG9zMSArIDEsIHNlbGVjdGVkQnJ1c2hYLCBzZWxlY3RlZEJydXNoWSk7XHJcbiAgICAvLyAgICAgICAgICAgICBkcmF3U3ByaXRlKHNwcml0ZXMsIG1vdXNlWCAtIDEsIG1vdXNlWSAtIDEsIHNlbGVjdGVkQnJ1c2hYICsgMiwgc2VsZWN0ZWRCcnVzaFkgKyAyKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMzNhYTMzXCI7XHJcbiAgICAvLyAgICAgICAgIGN0eC5maWxsVGV4dChcIiggXCIgKyBtb3VzZVggKyBcIiwgXCIgKyBtb3VzZVkgKyBcIiApXCIsIG1vdXNlWCAqIDE2ICsgMjAsIG1vdXNlWSAqIDE2ICsgMjApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBkcmF3TGF5ZXJzKCkge1xyXG4gICAgLy8gICAgIGlmIChsYXllcnMgPT0gbnVsbCB8fCBsYXllcnNbY3VycmVudExheWVyXSA9PSBudWxsKSByZXR1cm47XHJcbiAgICAvLyAgICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcclxuICAgIC8vICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbiAobGF5ZXIsIGluZGV4KSB7XHJcbiAgICAvLyAgICAgICAgIGlmIChsYXllcnNbY3VycmVudExheWVyXS5vcmRlciA+PSBsYXllci5vcmRlcikge1xyXG4gICAgLy8gICAgICAgICAgICAgaWYgKGxheWVyc1tjdXJyZW50TGF5ZXJdLm9yZGVyID09IGxheWVyLm9yZGVyICYmIHhSYXlWaWV3KVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuOTtcclxuICAgIC8vICAgICAgICAgICAgIGlmIChsYXllcnNbY3VycmVudExheWVyXS5vcmRlciA9PSBsYXllci5vcmRlciAmJiBjdXJyZW50TGF5ZXIgIT0gaW5kZXggJiYgeFJheVZpZXcpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC40O1xyXG5cclxuICAgIC8vICAgICAgICAgICAgIGRyYXdMYXllcihsYXllcik7XHJcbiAgICAvLyAgICAgICAgICAgICBpZiAobGF5ZXJzW2N1cnJlbnRMYXllcl0ub3JkZXIgIT0gbGF5ZXIub3JkZXIgJiYgc2hvd0ZvZylcclxuICAgIC8vICAgICAgICAgICAgICAgICBkcmF3TGF5ZXJGb2coKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICBlbHNlIGlmICh4UmF5Vmlldykge1xyXG4gICAgLy8gICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gY3R4Lmdsb2JhbEFscGhhICogMC4zO1xyXG4gICAgLy8gICAgICAgICAgICAgZHJhd0xheWVyKGxheWVyKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZHJhd0xheWVyKGxheWVyKSB7XHJcbiAgICAvLyAgICAgaWYgKHBlcnNwZWN0aXZlVmlldykge1xyXG4gICAgLy8gICAgICAgICB2YXIgY3VycmVudE9yZGVyID0gbGF5ZXJzW2N1cnJlbnRMYXllcl0ub3JkZXI7XHJcbiAgICAvLyAgICAgICAgIHZhciBvZmZzZXRJbmRleCA9IGxheWVyLm9yZGVyIC0gY3VycmVudE9yZGVyO1xyXG4gICAgLy8gICAgICAgICB2YXIgZGlyZWN0aW9uID0gY3VycmVudE9yZGVyID49IGxheWVyLm9yZGVyO1xyXG4gICAgLy8gICAgICAgICB2YXIgbW91c2VYb2Zmc2V0ID0gbW91c2VYIC0gKHN4KTtcclxuICAgIC8vICAgICAgICAgdmFyIG1vdXNlWW9mZnNldCA9IG1vdXNlWSAtIChzeSk7XHJcbiAgICAvLyAgICAgICAgIHZhciBvZmZYID0gKG1vdXNlWG9mZnNldCAqIG9mZnNldEluZGV4IC8gMikgKiAoZGlyZWN0aW9uID8gMSA6IC0xKTtcclxuICAgIC8vICAgICAgICAgdmFyIG9mZlkgPSAobW91c2VZb2Zmc2V0ICogb2Zmc2V0SW5kZXggLyAyKSAqIChkaXJlY3Rpb24gPyAxIDogLTEpO1xyXG4gICAgLy8gICAgICAgICBkcmF3VGlsZXNPZmYobGF5ZXIsIG9mZlgsIG9mZlkpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIHtcclxuICAgIC8vICAgICAgICAgZHJhd1RpbGVzKGxheWVyKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZHJhd0xheWVyRm9nKCkge1xyXG4gICAgLy8gICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMCwwLDAsMC4yKVwiO1xyXG4gICAgLy8gICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdywgY2gpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGRyYXdUaWxlcyhsYXllcikge1xyXG4gICAgLy8gICAgICAgICBsYXllci50aWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XHJcbiAgICAvLyAgICAgICAgZHJhd1Nwcml0ZShzcHJpdGVzLCB0aWxlLnhQb3NpdGlvbiwgdGlsZS55UG9zaXRpb24sIHRpbGUueEluZGV4LCB0aWxlLnlJbmRleCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZHJhd1RpbGVzT2ZmKGxheWVyLCB4b2ZmLCB5b2ZmKSB7XHJcbiAgICAvLyAgICAgICAgIGxheWVyLnRpbGVzLmZvckVhY2goZnVuY3Rpb24gKHRpbGUpIHtcclxuICAgIC8vICAgICAgICAgZHJhd1Nwcml0ZU9mZihzcHJpdGVzLCB0aWxlLnhQb3NpdGlvbiwgdGlsZS55UG9zaXRpb24sIHRpbGUueEluZGV4LCB0aWxlLnlJbmRleCwgeG9mZiwgeW9mZik7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZHJhd1BhbGV0dGUoKSB7XHJcbiAgICAvLyAgICAgcGFsZXR0ZS5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XHJcbiAgICAvLyAgICAgICAgIGRyYXdTcHJpdGUoc3ByaXRlcywgdGlsZS54UG9zaXRpb24sIHRpbGUueVBvc2l0aW9uLCB0aWxlLnhJbmRleCwgdGlsZS55SW5kZXgpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGRyYXdTcHJpdGUoc3ByaXRlU2hlZXQsIHgsIHksIHhpbmRleCwgeWluZGV4KSB7XHJcbiAgICAvLyAgICAgY3R4LmRyYXdJbWFnZShzcHJpdGVTaGVldCwgeGluZGV4ICogMTYsIHlpbmRleCAqIDE2LCAxNiwgMTYsIHggKiAxNiwgeSAqIDE2LCAxNiwgMTYpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGRyYXdTcHJpdGVPZmYoc3ByaXRlU2hlZXQsIHhwb3MsIHlwb3MsIHhpbmRleCwgeWluZGV4LCB4b2ZmLCB5b2ZmKSB7XHJcbiAgICAvLyAgICAgdmFyIHggPSBNYXRoLmZsb29yKHhwb3MgKiAxNiArIHhvZmYpO1xyXG4gICAgLy8gICAgIHZhciB5ID0gTWF0aC5mbG9vcih5cG9zICogMTYgKyB5b2ZmKTtcclxuICAgIC8vICAgICBjdHguZHJhd0ltYWdlKHNwcml0ZVNoZWV0LCB4aW5kZXggKiAxNiwgeWluZGV4ICogMTYsIDE2LCAxNiwgeCwgeSwgMTYsIDE2KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiB1cGRhdGVQYWludEJydXNoUHJldmlldygpIHtcclxuICAgIC8vICAgICBzZWxlY3RlZEJydXNoWCA9IHBhaW50QnJ1c2hJbnB1dFgudmFsdWUgPT0gXCJcIiA/IDAgOiBwYXJzZUludChwYWludEJydXNoSW5wdXRYLnZhbHVlKTtcclxuICAgIC8vICAgICBzZWxlY3RlZEJydXNoWSA9IHBhaW50QnJ1c2hJbnB1dFkudmFsdWUgPT0gXCJcIiA/IDAgOiBwYXJzZUludChwYWludEJydXNoSW5wdXRZLnZhbHVlKTtcclxuICAgIC8vICAgICByZW5hbWVUaWxlSW5wdXQucGxhY2Vob2xkZXIgPSBnZXRQYWxldHRlTmFtZShzZWxlY3RlZEJydXNoWCwgc2VsZWN0ZWRCcnVzaFkpO1xyXG4gICAgLy8gICAgIHJlbmFtZVRpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAvLyAgICAgcGFpbnRCcnVzaFByZXZpZXcuc3R5bGUuYmFja2dyb3VuZCA9IFwidXJsKFwiICsgc3ByaXRlcy5zcmMgKyBcIikgLVwiICsgc2VsZWN0ZWRCcnVzaFggKiAxNiArIFwicHggLVwiICsgc2VsZWN0ZWRCcnVzaFkgKiAxNiArIFwicHhcIjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiB1cGRhdGVQYWludEJydXNoUHJldmlld0Zyb21FeWVkcm9wcGVyKHRpbGUpIHtcclxuICAgIC8vICAgICBwYWludEJydXNoSW5wdXRYLnZhbHVlID0gdGlsZS54SW5kZXg7XHJcbiAgICAvLyAgICAgcGFpbnRCcnVzaElucHV0WS52YWx1ZSA9IHRpbGUueUluZGV4O1xyXG4gICAgLy8gICAgIHVwZGF0ZVBhaW50QnJ1c2hQcmV2aWV3KCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdXBkYXRlTGFzdFRpbGUobGF5ZXJJbmRleCwgdGlsZSkge1xyXG4gICAgLy8gICAgIGxhc3RUaWxlID0geyBsYXllckluZGV4OiBsYXllckluZGV4LCB0aWxlOiB0aWxlIH07XHJcbiAgICAvLyAgICAgdmFyIG5hbWUgPSBnZXRUaWxlTmFtZShsYXN0VGlsZS50aWxlKTtcclxuICAgIC8vICAgICBpZiAobmFtZSAhPSBudWxsICYmIG5hbWUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAvLyAgICAgICAgIHJlbmFtZVRpbGVJbnB1dC5wbGFjZWhvbGRlciA9IG5hbWU7XHJcbiAgICAvLyAgICAgICAgIHJlbmFtZVRpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2VcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICAgIHJlbmFtZVRpbGVJbnB1dC5wbGFjZWhvbGRlciA9IFwiTmFtZVwiO1xyXG4gICAgLy8gICAgICAgICByZW5hbWVUaWxlSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICB1cGRhdGVMYXN0VGlsZVByZXZpZXcoKTtcclxuICAgIC8vICAgICByZWZyZXNoVGlsZUluZm8odGlsZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gdXBkYXRlTGF5ZXJzUHJldmlldygpIHtcclxuICAgIC8vICAgICBsYXllcnNQcmV2aWV3LmlubmVySFRNTCA9IGdlbmVyYXRlSFRNTEZvckxheWVyc1ByZXZpZXcoKTtcclxuICAgIC8vICAgICByZW5hbWVMYXllcklucHV0LnBsYWNlaG9sZGVyID0gbGF5ZXJzW2N1cnJlbnRMYXllcl0ubmFtZTtcclxuICAgIC8vICAgICByZW9yZGVyTGF5ZXJJbnB1dC5wbGFjZWhvbGRlciA9IGxheWVyc1tjdXJyZW50TGF5ZXJdLm9yZGVyO1xyXG4gICAgLy8gICAgIHJlb3JkZXJMYXllcklucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIC8vICAgICByZW5hbWVMYXllcklucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIC8vICAgICBzaG93TGF5ZXJzVG9vbEJhciA9IHRydWU7XHJcbiAgICAvLyAgICAgdG9nZ2xlVG9vbEJhcih0cnVlLCBsYXllcnNUb29sQmFyRWxlbWVudCwgbGF5ZXJzVG9vbEJhckJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGJydXNoQ2xpY2tIYW5kbGVyKCkge1xyXG4gICAgLy8gICAgIHJlc2V0QnJ1c2hUb29sKCk7XHJcbiAgICAvLyAgICAgYWRkVGlsZVRvQ3VycmVudExheWVyKHBhaW50QnJ1c2hJbnB1dFgudmFsdWUsIHBhaW50QnJ1c2hJbnB1dFkudmFsdWUsIG1vdXNlWCwgbW91c2VZKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBuaW5lU2xpY2VDbGlja0hhbmRsZXIoKSB7XHJcbiAgICAvLyAgICAgYnJ1c2hUb29sLm1vZGUgPSAxO1xyXG4gICAgLy8gICAgIGJydXNoVG9vbC5zdGF0ZSA9IGJydXNoVG9vbC5zdGF0ZSA9PSAwID8gMSA6IDA7XHJcblxyXG4gICAgLy8gICAgIGlmIChicnVzaFRvb2wuc3RhdGUgPT0gMSkge1xyXG4gICAgLy8gICAgICAgICBicnVzaFRvb2wueFBvczEgPSBtb3VzZVg7XHJcbiAgICAvLyAgICAgICAgIGJydXNoVG9vbC55UG9zMSA9IG1vdXNlWTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIGlmIChicnVzaFRvb2wuc3RhdGUgPT0gMCkge1xyXG4gICAgLy8gICAgICAgICBicnVzaFRvb2wueFBvczIgPSBtb3VzZVg7XHJcbiAgICAvLyAgICAgICAgIGJydXNoVG9vbC55UG9zMiA9IG1vdXNlWTtcclxuICAgIC8vICAgICAgICAgYWRkU2xpY2VkVGlsZXMoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gd2FsbFNsaWNlQ2xpY2tIYW5kbGVyKCkge1xyXG5cclxuICAgIC8vICAgICBicnVzaFRvb2wubW9kZSA9IDI7XHJcbiAgICAvLyAgICAgYnJ1c2hUb29sLnN0YXRlID0gYnJ1c2hUb29sLnN0YXRlID09IDAgPyAxIDogMDtcclxuXHJcbiAgICAvLyAgICAgaWYgKGJydXNoVG9vbC5zdGF0ZSA9PSAxKSB7XHJcbiAgICAvLyAgICAgICAgIGJydXNoVG9vbC54UG9zMSA9IG1vdXNlWDtcclxuICAgIC8vICAgICAgICAgYnJ1c2hUb29sLnlQb3MxID0gbW91c2VZO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgaWYgKGJydXNoVG9vbC5zdGF0ZSA9PSAwKSB7XHJcbiAgICAvLyAgICAgICAgIGJydXNoVG9vbC54UG9zMiA9IG1vdXNlWDtcclxuICAgIC8vICAgICAgICAgYnJ1c2hUb29sLnlQb3MyID0gbW91c2VZO1xyXG4gICAgLy8gICAgICAgICBhZGRTbGljZWRUaWxlcygpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBlcmFzZXJDbGlja0hhbmRsZXIoKSB7XHJcbiAgICAvLyAgICAgcmVzZXRCcnVzaFRvb2woKTtcclxuICAgIC8vICAgICBsYXllcnNbY3VycmVudExheWVyXS50aWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpbmRleCkge1xyXG4gICAgLy8gICAgICAgICBpZiAodGlsZS54UG9zaXRpb24gPT0gbW91c2VYICYmIHRpbGUueVBvc2l0aW9uID09IG1vdXNlWSkge1xyXG4gICAgLy8gICAgICAgICAgICAgbGF5ZXJzW2N1cnJlbnRMYXllcl0udGlsZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIHVwZGF0ZUxhc3RUaWxlUHJldmlldygpIHtcclxuXHJcbiAgICAvLyAgICAgbGFzdFRpbGVQcmV2aWV3LnN0eWxlLmJhY2tncm91bmQgPSBcInVybChcIiArIHNwcml0ZXMuc3JjICsgXCIpIC1cIiArIGxhc3RUaWxlLnRpbGUueEluZGV4ICogMTYgKyBcInB4IC1cIiArIGxhc3RUaWxlLnRpbGUueUluZGV4ICogMTYgKyBcInB4XCI7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gY3JlYXRlTGF5ZXIobmFtZSwgb3JkZXIpIHtcclxuICAgIC8vICAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBvcmRlcjogbGF5ZXJzLmxlbmd0aCwgdGlsZXM6IFtdIH07XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gYWRkU2xpY2VkVGlsZXMoKSB7XHJcbiAgICAvLyAgICAgdmFyIHVwcGVyQm91bmRYID0gYnJ1c2hUb29sLnhQb3MxID4gYnJ1c2hUb29sLnhQb3MyID8gYnJ1c2hUb29sLnhQb3MxIDogYnJ1c2hUb29sLnhQb3MyO1xyXG4gICAgLy8gICAgIHZhciBsb3dlckJvdW5kWCA9IGJydXNoVG9vbC54UG9zMSA8IGJydXNoVG9vbC54UG9zMiA/IGJydXNoVG9vbC54UG9zMSA6IGJydXNoVG9vbC54UG9zMjtcclxuICAgIC8vICAgICB2YXIgdXBwZXJCb3VuZFkgPSBicnVzaFRvb2wueVBvczEgPiBicnVzaFRvb2wueVBvczIgPyBicnVzaFRvb2wueVBvczEgOiBicnVzaFRvb2wueVBvczI7XHJcbiAgICAvLyAgICAgdmFyIGxvd2VyQm91bmRZID0gYnJ1c2hUb29sLnlQb3MxIDwgYnJ1c2hUb29sLnlQb3MyID8gYnJ1c2hUb29sLnlQb3MxIDogYnJ1c2hUb29sLnlQb3MyO1xyXG5cclxuICAgIC8vICAgICBmb3IgKHZhciB4ID0gbG93ZXJCb3VuZFg7IHggPD0gdXBwZXJCb3VuZFg7IHgrKykge1xyXG4gICAgLy8gICAgICAgICBmb3IgKHZhciB5ID0gbG93ZXJCb3VuZFk7IHkgPD0gdXBwZXJCb3VuZFk7IHkrKykge1xyXG4gICAgLy8gICAgICAgICAgICAgYWRkU2xpY2VkVGlsZVRvQ3VycmVudExheWVyKHBhcnNlSW50KHBhaW50QnJ1c2hJbnB1dFgudmFsdWUpLCBwYXJzZUludChwYWludEJydXNoSW5wdXRZLnZhbHVlKSwgeCwgeSwgdXBwZXJCb3VuZFgsIGxvd2VyQm91bmRYLCB1cHBlckJvdW5kWSwgbG93ZXJCb3VuZFkpXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gYWRkU2xpY2VkVGlsZVRvQ3VycmVudExheWVyKHhJbmRleCwgeUluZGV4LCB4LCB5LCB1cHBlckJvdW5kWCwgbG93ZXJCb3VuZFgsIHVwcGVyQm91bmRZLCBsb3dlckJvdW5kWSkge1xyXG5cclxuICAgIC8vICAgICB2YXIgb2Zmc2V0O1xyXG5cclxuICAgIC8vICAgICBpZiAoYnJ1c2hUb29sLm1vZGUgPT0gMSlcclxuICAgIC8vICAgICAgICAgb2Zmc2V0ID0gZ2V0SW5kZXhPZmZzZXRGb3JOaW5lU2xpY2VkVGlsZSh4LCB5LCB1cHBlckJvdW5kWCwgbG93ZXJCb3VuZFgsIHVwcGVyQm91bmRZLCBsb3dlckJvdW5kWSk7XHJcbiAgICAvLyAgICAgZWxzZSBpZiAoYnJ1c2hUb29sLm1vZGUgPT0gMilcclxuICAgIC8vICAgICAgICAgb2Zmc2V0ID0gZ2V0SW5kZXhPZmZzZXRGb3JXYWxsU2xpY2VkVGlsZSh4LCB5LCB1cHBlckJvdW5kWCwgbG93ZXJCb3VuZFgsIHVwcGVyQm91bmRZLCBsb3dlckJvdW5kWSk7XHJcbiAgICAvLyAgICAgaWYgKG9mZnNldCA9PSBudWxsKSByZXR1cm47XHJcbiAgICAvLyAgICAgYWRkVGlsZVRvQ3VycmVudExheWVyKHhJbmRleCArIG9mZnNldFswXSwgeUluZGV4ICsgb2Zmc2V0WzFdLCB4LCB5KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBnZXRJbmRleE9mZnNldEZvcldhbGxTbGljZWRUaWxlKHgsIHksIHVwcGVyQm91bmRYLCBsb3dlckJvdW5kWCwgdXBwZXJCb3VuZFksIGxvd2VyQm91bmRZKSB7XHJcblxyXG5cclxuICAgIC8vICAgICAvL2VtcHR5IGNvcm5lcnMgLSByZXR1cm4gbnVsbFxyXG4gICAgLy8gICAgIGlmICgoeCA9PSBsb3dlckJvdW5kWCAmJiB5ID09IGxvd2VyQm91bmRZKSB8fCAoeCA9PSBsb3dlckJvdW5kWCArIDEgJiYgeSA9PSBsb3dlckJvdW5kWSkgfHwgKHggPT0gbG93ZXJCb3VuZFggJiYgeSA9PSBsb3dlckJvdW5kWSArIDEpIHx8XHJcbiAgICAvLyAgICAgKHggPT0gdXBwZXJCb3VuZFggJiYgeSA9PSBsb3dlckJvdW5kWSkgfHwgKHggPT0gdXBwZXJCb3VuZFggLSAxICYmIHkgPT0gbG93ZXJCb3VuZFkpIHx8ICh4ID09IHVwcGVyQm91bmRYICYmIHkgPT0gbG93ZXJCb3VuZFkgKyAxKSB8fFxyXG4gICAgLy8gICAgICh4ID09IGxvd2VyQm91bmRYICYmIHkgPT0gdXBwZXJCb3VuZFkpIHx8ICh4ID09IGxvd2VyQm91bmRYICYmIHkgPT0gdXBwZXJCb3VuZFkgLSAxKSB8fCAoeCA9PSBsb3dlckJvdW5kWCArIDEgJiYgeSA9PSB1cHBlckJvdW5kWSkgfHxcclxuICAgIC8vICAgICAoeCA9PSB1cHBlckJvdW5kWCAmJiB5ID09IHVwcGVyQm91bmRZKSB8fCAoeCA9PSB1cHBlckJvdW5kWCAtIDEgJiYgeSA9PSB1cHBlckJvdW5kWSkgfHwgKHggPT0gdXBwZXJCb3VuZFggJiYgeSA9PSB1cHBlckJvdW5kWSAtIDEpXHJcbiAgICAvLyAgICAgKSB7IC8vIHVwcGVyIGxlZnRcclxuICAgIC8vICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICAvL2Nvcm5lcnNcclxuICAgIC8vICAgICBpZiAoeCA9PSBsb3dlckJvdW5kWCArIDEgJiYgeSA9PSBsb3dlckJvdW5kWSArIDEpIHsgLy8gdXBwZXIgbGVmdFxyXG4gICAgLy8gICAgICAgICByZXR1cm4gWzAsIDBdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoeCA9PSB1cHBlckJvdW5kWCAtIDEgJiYgeSA9PSBsb3dlckJvdW5kWSArIDEpIHsgLy91cHBlciByaWdodFxyXG4gICAgLy8gICAgICAgICByZXR1cm4gWzIsIDBdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoeCA9PSBsb3dlckJvdW5kWCArIDEgJiYgeSA9PSB1cHBlckJvdW5kWSAtIDEpIHsgLy9ib3R0b20gbGVmdFxyXG4gICAgLy8gICAgICAgICByZXR1cm4gWzAsIDJdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoeCA9PSB1cHBlckJvdW5kWCAtIDEgJiYgeSA9PSB1cHBlckJvdW5kWSAtIDEpIHsgLy9ib3R0b20gcmlnaHRcclxuICAgIC8vICAgICAgICAgcmV0dXJuIFsyLCAyXTtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIC8vZWRnZXNcclxuICAgIC8vICAgICBpZiAoeCA9PSBsb3dlckJvdW5kWCAmJiB5ICE9IGxvd2VyQm91bmRZICYmIHkgIT0gdXBwZXJCb3VuZFkpIHsgLy93ZXN0XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBbMCwgMV07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmICh4ID09IHVwcGVyQm91bmRYICYmIHkgIT0gbG93ZXJCb3VuZFkgJiYgeSAhPSB1cHBlckJvdW5kWSkgey8vZWFzdFxyXG4gICAgLy8gICAgICAgICByZXR1cm4gWzIsIDFdO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoeSA9PSBsb3dlckJvdW5kWSAmJiB4ICE9IGxvd2VyQm91bmRYICYmIHggIT0gdXBwZXJCb3VuZFgpIHsvL25vcnRoXHJcbiAgICAvLyAgICAgICAgIHJldHVybiBbMSwgMF07XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmICh5ID09IHVwcGVyQm91bmRZICYmIHggIT0gbG93ZXJCb3VuZFggJiYgeCAhPSB1cHBlckJvdW5kWCkgey8vc291dGhcclxuICAgIC8vICAgICAgICAgcmV0dXJuIFsxLCAyXTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgLy9taWRkbGVcclxuICAgIC8vICAgICBpZiAoeCAhPSBsb3dlckJvdW5kWCAmJiB4ICE9IHVwcGVyQm91bmRYICYmIHkgIT0gbG93ZXJCb3VuZFkgJiYgeSAhPSB1cHBlckJvdW5kWSkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIC8vICAgICB9XHJcblxyXG4gICAgLy8gICAgIHJldHVybiBbeEluZGV4T2Zmc2V0LCB5SW5kZXhPZmZzZXRdO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGZ1bmN0aW9uIGdldEluZGV4T2Zmc2V0Rm9yTmluZVNsaWNlZFRpbGUoeCwgeSwgdXBwZXJCb3VuZFgsIGxvd2VyQm91bmRYLCB1cHBlckJvdW5kWSwgbG93ZXJCb3VuZFkpIHtcclxuICAgIC8vICAgICB2YXIgeEluZGV4T2Zmc2V0LCB5SW5kZXhPZmZzZXQ7XHJcbiAgICAvLyAgICAgLy9jb3JuZXJzXHJcbiAgICAvLyAgICAgaWYgKHggPT0gbG93ZXJCb3VuZFggJiYgeSA9PSBsb3dlckJvdW5kWSkgeyAvLyB1cHBlciBsZWZ0XHJcbiAgICAvLyAgICAgICAgIHhJbmRleE9mZnNldCA9IDA7XHJcbiAgICAvLyAgICAgICAgIHlJbmRleE9mZnNldCA9IDA7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmICh4ID09IHVwcGVyQm91bmRYICYmIHkgPT0gbG93ZXJCb3VuZFkpIHsgLy91cHBlciByaWdodFxyXG4gICAgLy8gICAgICAgICB4SW5kZXhPZmZzZXQgPSAyO1xyXG4gICAgLy8gICAgICAgICB5SW5kZXhPZmZzZXQgPSAwO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoeCA9PSBsb3dlckJvdW5kWCAmJiB5ID09IHVwcGVyQm91bmRZKSB7IC8vYm90dG9tIGxlZnRcclxuICAgIC8vICAgICAgICAgeEluZGV4T2Zmc2V0ID0gMDtcclxuICAgIC8vICAgICAgICAgeUluZGV4T2Zmc2V0ID0gMjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKHggPT0gdXBwZXJCb3VuZFggJiYgeSA9PSB1cHBlckJvdW5kWSkgeyAvL2JvdHRvbSByaWdodFxyXG4gICAgLy8gICAgICAgICB4SW5kZXhPZmZzZXQgPSAyO1xyXG4gICAgLy8gICAgICAgICB5SW5kZXhPZmZzZXQgPSAyO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgLy9lZGdlc1xyXG4gICAgLy8gICAgIGlmICh4ID09IGxvd2VyQm91bmRYICYmIHkgIT0gbG93ZXJCb3VuZFkgJiYgeSAhPSB1cHBlckJvdW5kWSkgeyAvL3dlc3RcclxuICAgIC8vICAgICAgICAgeEluZGV4T2Zmc2V0ID0gMDtcclxuICAgIC8vICAgICAgICAgeUluZGV4T2Zmc2V0ID0gMTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKHggPT0gdXBwZXJCb3VuZFggJiYgeSAhPSBsb3dlckJvdW5kWSAmJiB5ICE9IHVwcGVyQm91bmRZKSB7Ly9lYXN0XHJcbiAgICAvLyAgICAgICAgIHhJbmRleE9mZnNldCA9IDI7XHJcbiAgICAvLyAgICAgICAgIHlJbmRleE9mZnNldCA9IDE7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGlmICh5ID09IGxvd2VyQm91bmRZICYmIHggIT0gbG93ZXJCb3VuZFggJiYgeCAhPSB1cHBlckJvdW5kWCkgey8vbm9ydGhcclxuICAgIC8vICAgICAgICAgeEluZGV4T2Zmc2V0ID0gMTtcclxuICAgIC8vICAgICAgICAgeUluZGV4T2Zmc2V0ID0gMDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKHkgPT0gdXBwZXJCb3VuZFkgJiYgeCAhPSBsb3dlckJvdW5kWCAmJiB4ICE9IHVwcGVyQm91bmRYKSB7Ly9zb3V0aFxyXG4gICAgLy8gICAgICAgICB4SW5kZXhPZmZzZXQgPSAxO1xyXG4gICAgLy8gICAgICAgICB5SW5kZXhPZmZzZXQgPSAyO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgLy9taWRkbGVcclxuICAgIC8vICAgICBpZiAoeCAhPSBsb3dlckJvdW5kWCAmJiB4ICE9IHVwcGVyQm91bmRYICYmIHkgIT0gbG93ZXJCb3VuZFkgJiYgeSAhPSB1cHBlckJvdW5kWSkge1xyXG4gICAgLy8gICAgICAgICB4SW5kZXhPZmZzZXQgPSAxO1xyXG4gICAgLy8gICAgICAgICB5SW5kZXhPZmZzZXQgPSAxO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gW3hJbmRleE9mZnNldCwgeUluZGV4T2Zmc2V0XTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBhZGRUaWxlVG9DdXJyZW50TGF5ZXIoeEluZGV4LCB5SW5kZXgsIHhQb3NpdGlvbiwgeVBvc2l0aW9uKSB7XHJcbiAgICAvLyAgICAgdmFyIG1hdGNoZWQgPSBmYWxzZTtcclxuICAgIC8vICAgICBsYXllcnNbY3VycmVudExheWVyXS50aWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlKSB7XHJcbiAgICAvLyAgICAgICAgIGlmICh0aWxlLnhQb3NpdGlvbiA9PSB4UG9zaXRpb24gJiYgdGlsZS55UG9zaXRpb24gPT0geVBvc2l0aW9uKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aWxlLnhJbmRleCA9IHhJbmRleDtcclxuICAgIC8vICAgICAgICAgICAgIHRpbGUueUluZGV4ID0geUluZGV4O1xyXG4gICAgLy8gICAgICAgICAgICAgdXBkYXRlTGFzdFRpbGUoY3VycmVudExheWVyLCB0aWxlKTtcclxuICAgIC8vICAgICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgaWYgKG1hdGNoZWQpIHJldHVybjtcclxuICAgIC8vICAgICB2YXIgbmV3VGlsZSA9IHtcclxuICAgIC8vICAgICAgICAgeEluZGV4OiB4SW5kZXgsXHJcbiAgICAvLyAgICAgICAgIHlJbmRleDogeUluZGV4LFxyXG4gICAgLy8gICAgICAgICB4UG9zaXRpb246IHhQb3NpdGlvbixcclxuICAgIC8vICAgICAgICAgeVBvc2l0aW9uOiB5UG9zaXRpb25cclxuICAgIC8vICAgICB9O1xyXG5cclxuICAgIC8vICAgICBsYXllcnNbY3VycmVudExheWVyXS50aWxlcy5wdXNoKG5ld1RpbGUpO1xyXG4gICAgLy8gICAgIHVwZGF0ZUxhc3RUaWxlKGN1cnJlbnRMYXllciwgbmV3VGlsZSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZ2VuZXJhdGVIVE1MRm9yTGF5ZXJzUHJldmlldygpIHtcclxuICAgIC8vICAgICB2YXIgcm93cyA9IFwiXCI7XHJcbiAgICAvLyAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24gKGxheWVyLCBpbmRleCkge1xyXG4gICAgLy8gICAgICAgICB2YXIgY2xhc3NlcyA9IFwiYnV0dG9uXCIgKyAoY3VycmVudExheWVyID09IGluZGV4ID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCIpO1xyXG4gICAgLy8gICAgICAgICByb3dzICs9IFwiPGRpdiBjbGFzcz0nXCIgKyBjbGFzc2VzICsgXCInIG9uY2xpY2s9J2NsaWNrU2VsZWN0TGF5ZXIoXCIgKyBpbmRleCArIFwiKSc+XCIgKyBsYXllci5uYW1lICsgXCIgKFwiICsgbGF5ZXIub3JkZXIgKyBcIikgPC9kaXY+XCI7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyAgICAgcmV0dXJuIFwiPGRpdj5cIiArIHJvd3MgKyBcIjwvZGl2PlwiO1xyXG4gICAgLy8gfVxyXG5cclxuIFxyXG5cclxuICAgXHJcblxyXG4gICAgLy8gZnVuY3Rpb24gZ2V0VGlsZU5hbWUodGlsZSkge1xyXG5cclxuICAgIC8vICAgICByZXR1cm4gZ2V0UGFsZXR0ZU5hbWUodGlsZS54SW5kZXgsIHRpbGUueUluZGV4KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBpbml0UGFsZXR0ZSgpIHtcclxuICAgIC8vICAgICBwYWxldHRlID0gW107XHJcbiAgICAvLyAgICAgdmFyIHcgPSAzNztcclxuICAgIC8vICAgICB2YXIgaCA9IDI4O1xyXG4gICAgLy8gICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaDsgeSsrKSB7XHJcbiAgICAvLyAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdzsgeCsrKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBwYWxldHRlLnB1c2goe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHhJbmRleDogeCxcclxuICAgIC8vICAgICAgICAgICAgICAgICB5SW5kZXg6IHksXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgeFBvc2l0aW9uOiB4LFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHlQb3NpdGlvbjogeSxcclxuICAgIC8vICAgICAgICAgICAgICAgICBuYW1lOiBcIlwiXHJcbiAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBmdW5jdGlvbiBtb3ZlUGFsZXR0ZSgpIHtcclxuICAgIC8vICAgICBwYWxldHRlLmZvckVhY2goZnVuY3Rpb24gKHB0aWxlKSB7XHJcbiAgICAvLyAgICAgICAgIHB0aWxlLnhQb3NpdGlvbiA9IHB0aWxlLnhJbmRleCArIChzeCA8PSAxMiA/IDAgOiBzeCAtIDEyKTtcclxuICAgIC8vICAgICAgICAgcHRpbGUueVBvc2l0aW9uID0gcHRpbGUueUluZGV4ICsgKHN5IDw9IDEyID8gMCA6IHN5IC0gMTIpO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIC8vIH1cclxufSJdLCJzb3VyY2VSb290Ijoic3JjIn0=

define('map-editor-tools',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MapEditorTools = (function () {
        function MapEditorTools(paintBrushInputX, paintBrushInputY, showLayersToolBar, showTilesToolBar, showTriggersToolBar, showEventsToolBar, showActionsToolBar, showConditionsToolBar, showParamsToolBar, showMapToolBar, selectedTool, mouseDown, inputLocked, sx, sy, currentAction, c, ctx, cw, ch, mx, my) {
            if (paintBrushInputX === void 0) { paintBrushInputX = 0; }
            if (paintBrushInputY === void 0) { paintBrushInputY = 0; }
            if (showLayersToolBar === void 0) { showLayersToolBar = true; }
            if (showTilesToolBar === void 0) { showTilesToolBar = false; }
            if (showTriggersToolBar === void 0) { showTriggersToolBar = false; }
            if (showEventsToolBar === void 0) { showEventsToolBar = false; }
            if (showActionsToolBar === void 0) { showActionsToolBar = false; }
            if (showConditionsToolBar === void 0) { showConditionsToolBar = false; }
            if (showParamsToolBar === void 0) { showParamsToolBar = false; }
            if (showMapToolBar === void 0) { showMapToolBar = false; }
            if (selectedTool === void 0) { selectedTool = 0; }
            if (mouseDown === void 0) { mouseDown = false; }
            if (inputLocked === void 0) { inputLocked = false; }
            if (sx === void 0) { sx = 0; }
            if (sy === void 0) { sy = 0; }
            if (currentAction === void 0) { currentAction = null; }
            if (c === void 0) { c = new HTMLCanvasElement(); }
            if (ctx === void 0) { ctx = {}; }
            if (cw === void 0) { cw = 2048; }
            if (ch === void 0) { ch = 2048; }
            if (mx === void 0) { mx = 0; }
            if (my === void 0) { my = 0; }
            this.paintBrushInputX = paintBrushInputX;
            this.paintBrushInputY = paintBrushInputY;
            this.showLayersToolBar = showLayersToolBar;
            this.showTilesToolBar = showTilesToolBar;
            this.showTriggersToolBar = showTriggersToolBar;
            this.showEventsToolBar = showEventsToolBar;
            this.showActionsToolBar = showActionsToolBar;
            this.showConditionsToolBar = showConditionsToolBar;
            this.showParamsToolBar = showParamsToolBar;
            this.showMapToolBar = showMapToolBar;
            this.selectedTool = selectedTool;
            this.mouseDown = mouseDown;
            this.inputLocked = inputLocked;
            this.sx = sx;
            this.sy = sy;
            this.currentAction = currentAction;
            this.c = c;
            this.ctx = ctx;
            this.cw = cw;
            this.ch = ch;
            this.mx = mx;
            this.my = my;
            this.c = document.getElementsByTagName('canvas')[0];
            this.ctx = this.c.getContext('2d');
        }
        return MapEditorTools;
    }());
    exports.MapEditorTools = MapEditorTools;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC1lZGl0b3ItdG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBR0E7UUFFQSx3QkFDVyxnQkFBb0IsRUFDcEIsZ0JBQW9CLEVBQ3JCLGlCQUF3QixFQUN4QixnQkFBd0IsRUFDeEIsbUJBQTJCLEVBQzNCLGlCQUF5QixFQUN6QixrQkFBMEIsRUFDMUIscUJBQTZCLEVBQzdCLGlCQUF5QixFQUN6QixjQUFzQixFQUN0QixZQUFnQixFQUNoQixTQUFpQixFQUNqQixXQUFtQixFQUNuQixFQUFNLEVBQ04sRUFBTSxFQUNOLGFBQW9CLEVBQ3BCLENBQTJCLEVBQzNCLEdBQU8sRUFDUCxFQUFTLEVBQ1QsRUFBUyxFQUNULEVBQU0sRUFDTixFQUFNO1lBckJMLGlDQUFBLEVBQUEsb0JBQW9CO1lBQ3BCLGlDQUFBLEVBQUEsb0JBQW9CO1lBQ3JCLGtDQUFBLEVBQUEsd0JBQXdCO1lBQ3hCLGlDQUFBLEVBQUEsd0JBQXdCO1lBQ3hCLG9DQUFBLEVBQUEsMkJBQTJCO1lBQzNCLGtDQUFBLEVBQUEseUJBQXlCO1lBQ3pCLG1DQUFBLEVBQUEsMEJBQTBCO1lBQzFCLHNDQUFBLEVBQUEsNkJBQTZCO1lBQzdCLGtDQUFBLEVBQUEseUJBQXlCO1lBQ3pCLCtCQUFBLEVBQUEsc0JBQXNCO1lBQ3RCLDZCQUFBLEVBQUEsZ0JBQWdCO1lBQ2hCLDBCQUFBLEVBQUEsaUJBQWlCO1lBQ2pCLDRCQUFBLEVBQUEsbUJBQW1CO1lBQ25CLG1CQUFBLEVBQUEsTUFBTTtZQUNOLG1CQUFBLEVBQUEsTUFBTTtZQUNOLDhCQUFBLEVBQUEsb0JBQW9CO1lBQ3BCLGtCQUFBLEVBQUEsUUFBUSxpQkFBaUIsRUFBRTtZQUMzQixvQkFBQSxFQUFBLFFBQU87WUFDUCxtQkFBQSxFQUFBLFNBQVM7WUFDVCxtQkFBQSxFQUFBLFNBQVM7WUFDVCxtQkFBQSxFQUFBLE1BQU07WUFDTixtQkFBQSxFQUFBLE1BQU07WUFyQkwscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFJO1lBQ3BCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBSTtZQUNyQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQU87WUFDeEIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFRO1lBQ3hCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBUTtZQUMzQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQVE7WUFDekIsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFRO1lBQzFCLDBCQUFxQixHQUFyQixxQkFBcUIsQ0FBUTtZQUM3QixzQkFBaUIsR0FBakIsaUJBQWlCLENBQVE7WUFDekIsbUJBQWMsR0FBZCxjQUFjLENBQVE7WUFDdEIsaUJBQVksR0FBWixZQUFZLENBQUk7WUFDaEIsY0FBUyxHQUFULFNBQVMsQ0FBUTtZQUNqQixnQkFBVyxHQUFYLFdBQVcsQ0FBUTtZQUNuQixPQUFFLEdBQUYsRUFBRSxDQUFJO1lBQ04sT0FBRSxHQUFGLEVBQUUsQ0FBSTtZQUNOLGtCQUFhLEdBQWIsYUFBYSxDQUFPO1lBQ3BCLE1BQUMsR0FBRCxDQUFDLENBQTBCO1lBQzNCLFFBQUcsR0FBSCxHQUFHLENBQUk7WUFDUCxPQUFFLEdBQUYsRUFBRSxDQUFPO1lBQ1QsT0FBRSxHQUFGLEVBQUUsQ0FBTztZQUNULE9BQUUsR0FBRixFQUFFLENBQUk7WUFDTixPQUFFLEdBQUYsRUFBRSxDQUFJO1lBRWhCLElBQUksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25ELElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDbkMsQ0FBQztRQWtkRCxxQkFBQztJQUFELENBOWVBLEFBOGVDLElBQUE7SUE5ZVksd0NBQWMiLCJmaWxlIjoibWFwLWVkaXRvci10b29scy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgaU1hcEVkaXRvclR5cGVzID0gcmVxdWlyZShcIi4vbWFwLWVkaXRvci10eXBlc1wiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXBFZGl0b3JUb29scyB7XHJcblxyXG5jb25zdHJ1Y3RvciggIFxyXG4gICAgcHVibGljIHBhaW50QnJ1c2hJbnB1dFggPSAwLFxyXG4gICAgcHVibGljIHBhaW50QnJ1c2hJbnB1dFkgPSAwLCAgICBcclxuICAgcHVibGljIHNob3dMYXllcnNUb29sQmFyID0gdHJ1ZSxcclxuICAgcHVibGljIHNob3dUaWxlc1Rvb2xCYXIgPSBmYWxzZSxcclxuICAgcHVibGljIHNob3dUcmlnZ2Vyc1Rvb2xCYXIgPSBmYWxzZSxcclxuICAgcHVibGljIHNob3dFdmVudHNUb29sQmFyID0gZmFsc2UsXHJcbiAgIHB1YmxpYyBzaG93QWN0aW9uc1Rvb2xCYXIgPSBmYWxzZSxcclxuICAgcHVibGljIHNob3dDb25kaXRpb25zVG9vbEJhciA9IGZhbHNlLFxyXG4gICBwdWJsaWMgc2hvd1BhcmFtc1Rvb2xCYXIgPSBmYWxzZSxcclxuICAgcHVibGljIHNob3dNYXBUb29sQmFyID0gZmFsc2UsXHJcbiAgIHB1YmxpYyBzZWxlY3RlZFRvb2wgPSAwLFxyXG4gICBwdWJsaWMgbW91c2VEb3duID0gZmFsc2UsXHJcbiAgIHB1YmxpYyBpbnB1dExvY2tlZCA9IGZhbHNlLFxyXG4gICBwdWJsaWMgc3ggPSAwLFxyXG4gICBwdWJsaWMgc3kgPSAwLFxyXG4gICBwdWJsaWMgY3VycmVudEFjdGlvbiA9IG51bGwsXHJcbiAgIHB1YmxpYyBjID0gbmV3IEhUTUxDYW52YXNFbGVtZW50KCksXHJcbiAgIHB1YmxpYyBjdHggPXt9LFxyXG4gICBwdWJsaWMgY3cgPSAyMDQ4LFxyXG4gICBwdWJsaWMgY2ggPSAyMDQ4LFxyXG4gICBwdWJsaWMgbXggPSAwLFxyXG4gICBwdWJsaWMgbXkgPSAwKVxyXG57XHJcbnRoaXMuYyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXTtcclxuIHRoaXMuY3R4ID0gdGhpcy5jLmdldENvbnRleHQoJzJkJylcclxufVxyXG5cclxuLy8gdmFyIGN1cnJlbnRBY3Rpb24gPSBudWxsLCB2aWV3QWN0aW9ucyA9IHRydWU7XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja0FkZEFjdGlvblRvU2VsZWN0ZWRFdmVudCgpIHtcclxuLy8gICAgIHZhciBldmVudCA9IGdldEN1cnJlbnRFdmVudCgpO1xyXG4vLyAgICAgaWYgKGV2ZW50ID09IG51bGwpIHJldHVybjtcclxuLy8gICAgIHZhciBuYW1lID0gcmVuYW1lQWN0aW9uSW5wdXQudmFsdWUgPT0gXCJcIiA/IFwiYWN0aW9uIFwiICsgZXZlbnQuYWN0aW9ucy5sZW5ndGggOiByZW5hbWVBY3Rpb25JbnB1dC52YWx1ZTtcclxuLy8gICAgIGV2ZW50LmFjdGlvbnMucHVzaChjcmVhdGVBY3Rpb24obmFtZSkpO1xyXG4vLyAgICAgY3VycmVudEFjdGlvbiA9IGV2ZW50LmFjdGlvbnMubGVuZ3RoIC0gMTtcclxuLy8gICAgIHVwZGF0ZUFjdGlvbnNQcmV2aWV3KGV2ZW50KTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tSZW1vdmVTZWxlY3RlZEFjdGlvbigpIHtcclxuXHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUmVuYW1lQWN0aW9uKCkge1xyXG4vLyAgICAgdmFyIGFjdGlvbiA9IGdldEN1cnJlbnRBY3Rpb24oKTtcclxuLy8gICAgIGFjdGlvbi5uYW1lID0gcmVuYW1lQWN0aW9uSW5wdXQudmFsdWU7XHJcbi8vICAgICB1cGRhdGVBY3Rpb25zUHJldmlldyhldmVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHVwZGF0ZUFjdGlvbnNQcmV2aWV3KGV2ZW50KSB7XHJcbi8vICAgICBpZiAoY3VycmVudEFjdGlvbiA9PSBudWxsIHx8IGV2ZW50ID09IG51bGwpIHtcclxuLy8gICAgICAgICBhY3Rpb25zUHJldmlldy5pbm5lckhUTUwgPSBcIlwiO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuLy8gICAgIHZhciBjdXJyZW50QWN0aW9uT2JqID0gZ2V0Q3VycmVudEFjdGlvbigpO1xyXG4vLyAgICAgdXBkYXRlUGFyYW1zUHJldmlldyhjdXJyZW50QWN0aW9uT2JqKTtcclxuLy8gICAgIHZpZXdBY3Rpb25zID0gdHJ1ZTtcclxuLy8gICAgIGFjdGlvbnNQcmV2aWV3LmlubmVySFRNTCA9IGdlbmVyYXRlSFRNTEZvckFjdGlvbnNQcmV2aWV3KGV2ZW50LmFjdGlvbnMpO1xyXG4vLyAgICAgcmVuYW1lQWN0aW9uSW5wdXQucGxhY2Vob2xkZXIgPSBjdXJyZW50QWN0aW9uT2JqID09IG51bGwgPyAnJyA6IGN1cnJlbnRBY3Rpb25PYmoubmFtZTtcclxuLy8gICAgIHJlbmFtZUFjdGlvbklucHV0LnZhbHVlID0gXCJcIjtcclxuLy8gfVxyXG5cclxuXHJcbi8vIGZ1bmN0aW9uIGdldEN1cnJlbnRFdmVudCgpIHtcclxuLy8gICAgIHZhciB0cmlnZ2VyID0gZ2V0Q3VycmVudFRyaWdnZXIoKTtcclxuLy8gICAgIGlmICh0cmlnZ2VyID09IG51bGwpIHJldHVybiBudWxsO1xyXG4vLyAgICAgcmV0dXJuIHRyaWdnZXIuZXZlbnRzW2N1cnJlbnRFdmVudF07XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdldEN1cnJlbnRBY3Rpb24oKSB7XHJcbi8vICAgICB2YXIgZXZlbnQgPSBnZXRDdXJyZW50RXZlbnQoKTtcclxuLy8gICAgIGlmIChldmVudCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuLy8gICAgIHJldHVybiBldmVudC5hY3Rpb25zW2N1cnJlbnRBY3Rpb25dO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja1NlbGVjdEFjdGlvbihpbmRleCkge1xyXG4vLyAgICAgdmFyIGV2ZW50ID0gZ2V0Q3VycmVudEV2ZW50KCk7XHJcbi8vICAgICBpZiAoZXZlbnQgPT0gbnVsbCkgcmV0dXJuO1xyXG4vLyAgICAgY3VycmVudEFjdGlvbiA9IGluZGV4O1xyXG4vLyAgICAgdXBkYXRlQWN0aW9uc1ByZXZpZXcoZXZlbnQpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBnZW5lcmF0ZUhUTUxGb3JBY3Rpb25zUHJldmlldyhjdXJyZW50QWN0aW9ucykge1xyXG4vLyAgICAgdmFyIHJvd3MgPSBcIlwiO1xyXG4vLyAgICAgaWYgKGN1cnJlbnRBY3Rpb25zID09IG51bGwpIHJldHVybiByb3dzO1xyXG4vLyAgICAgY3VycmVudEFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uLCBpbmRleCkge1xyXG4vLyAgICAgICAgIHZhciBjbGFzc2VzID0gXCJidXR0b25cIiArIChjdXJyZW50QWN0aW9uID09IGluZGV4ID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCIpO1xyXG4vLyAgICAgICAgIHJvd3MgKz0gXCI8ZGl2IGNsYXNzPSdcIiArIGNsYXNzZXMgKyBcIicgb25jbGljaz0nY2xpY2tTZWxlY3RBY3Rpb24oXCIgKyBpbmRleCArIFwiKSc+XCIgKyBhY3Rpb24ubmFtZSArIFwiIDwvZGl2PlwiO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gXCI8ZGl2PlwiICsgcm93cyArIFwiPC9kaXY+XCI7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdldEN1cnJlbnRBY3Rpb25zKCkge1xyXG4vLyAgICAgdmFyIGV2ZW50ID0gZ2V0Q3VycmVudEV2ZW50KCk7XHJcbi8vICAgICByZXR1cm4gZXZlbnQuYWN0aW9ucztcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tUb2dnbGVYUmF5KCkge1xyXG4vLyAgICAgeFJheVZpZXcgPSAheFJheVZpZXc7XHJcbi8vICAgICB0b2dnbGVQYWxldHRlTW9kZShmYWxzZSk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrVG9nZ2xlUGVyc3BlY3RpdmUoKSB7XHJcbi8vICAgICBwZXJzcGVjdGl2ZVZpZXcgPSAhcGVyc3BlY3RpdmVWaWV3O1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja1RvZ2dsZUZvZygpIHtcclxuLy8gICAgIHNob3dGb2cgPSAhc2hvd0ZvZztcclxuLy8gICAgIHRvZ2dsZVBhbGV0dGVNb2RlKGZhbHNlKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tPcGVuR2FtZVN0YXRlRWRpdG9yKCkge1xyXG4vLyAgICAgb3BlblBvcHVwKGdhbWVTdGF0ZVBvcHVwKTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiBjbGlja0Nsb3NlUG9wdXBzKCkge1xyXG4vLyAgICAgY2xvc2VQb3B1cHMoKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tPcGVuUGxheWVyU3RhdGVFZGl0b3IoKSB7XHJcbi8vICAgICBvcGVuUG9wdXAocGxheWVyU3RhdGVQb3B1cCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUGFpbnRUb29sKCkge1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyAgICAgdXBkYXRlUGFpbnRCcnVzaFByZXZpZXcoKTtcclxuLy8gICAgIHNlbGVjdFRvb2woMCwgYnJ1c2hUb29sQnV0dG9uKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tFcmFzZXJUb29sKCkge1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyAgICAgc2VsZWN0VG9vbCgxLCBlcmFzZXJUb29sQnV0dG9uKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tFeWVkcm9wcGVyVG9vbCgpIHtcclxuLy8gICAgIHVwZGF0ZVBhaW50QnJ1c2hQcmV2aWV3KCk7XHJcbi8vICAgICBzZWxlY3RUb29sKDIsIGV5ZWRyb3BwZXJUb29sQnV0dG9uKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tOaW5lU2xpY2VUb29sKCkge1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyAgICAgc2VsZWN0VG9vbCgzLCBuaW5lU2xpY2VUb29sQnV0dG9uKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tXYWxsU2xpY2VUb29sKCkge1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyAgICAgc2VsZWN0VG9vbCg0LCB3YWxsU2xpY2VUb29sQnV0dG9uKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tUcmlnZ2VyQnJ1c2hUb29sKCkge1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUoZmFsc2UpO1xyXG4vLyAgICAgc2VsZWN0VG9vbCg1LCB0cmlnZ2VyVG9vbEJ1dHRvbik7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUGFsZXR0ZUJ1dHRvbigpIHtcclxuLy8gICAgIHBhbGV0dGVNb2RlID0gIXBhbGV0dGVNb2RlO1xyXG4vLyAgICAgdG9nZ2xlUGFsZXR0ZU1vZGUocGFsZXR0ZU1vZGUpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja0ltcG9ydE1hcEJ1dHRvbigpIHtcclxuXHJcbi8vICAgICBpZiAoIXZhbGlkYXRlSW1wb3J0QnV0dG9uKCkpIHJldHVybjtcclxuLy8gICAgIHN0YXJ0UmVhZCgpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja0V4cG9ydE1hcEJ1dHRvbigpIHtcclxuLy8gICAgIGlmICghdmFsaWRhdGVFeHBvcnRCdXR0b24oKSkgcmV0dXJuO1xyXG4vLyAgICAgdmFyIGRhdGFTdHIgPSBcImRhdGE6dGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3JlYXRlTWFwT2JqZWN0KCkpKTtcclxuLy8gICAgIHZhciBkbEFuY2hvckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnSGlkZGVuRG93bmxvYWRBbmNob3InKTtcclxuLy8gICAgIGRsQW5jaG9yRWxlbS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGRhdGFTdHIpO1xyXG4vLyAgICAgZGxBbmNob3JFbGVtLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsIG1hcE5hbWVJbnB1dC52YWx1ZSArIFwiLmpzb25cIik7XHJcbi8vICAgICBkbEFuY2hvckVsZW0uY2xpY2soKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tMYXllcnNUb29sQmFyQnV0dG9uKCkge1xyXG4vLyAgICAgc2hvd0xheWVyc1Rvb2xCYXIgPSAhc2hvd0xheWVyc1Rvb2xCYXI7XHJcbi8vICAgICB0b2dnbGVUb29sQmFyKHNob3dMYXllcnNUb29sQmFyLCBsYXllcnNUb29sQmFyRWxlbWVudCwgbGF5ZXJzVG9vbEJhckJ1dHRvbkVsZW1lbnQpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja01hcFRvb2xCYXJCdXR0b24oKSB7XHJcbi8vICAgICBzaG93TWFwVG9vbEJhciA9ICFzaG93TWFwVG9vbEJhcjtcclxuLy8gICAgIHRvZ2dsZVRvb2xCYXIoc2hvd01hcFRvb2xCYXIsIG1hcFRvb2xCYXJFbGVtZW50LCBtYXBUb29sQmFyQnV0dG9uRWxlbWVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrVGlsZXNUb29sQmFyQnV0dG9uKCkge1xyXG4vLyAgICAgc2hvd1RpbGVzVG9vbEJhciA9ICFzaG93VGlsZXNUb29sQmFyO1xyXG4vLyAgICAgdG9nZ2xlVG9vbEJhcihzaG93VGlsZXNUb29sQmFyLCB0aWxlc1Rvb2xCYXJFbGVtZW50LCB0aWxlc1Rvb2xCYXJCdXR0b25FbGVtZW50KTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tPcHRpb25zVG9vbEJhckJ1dHRvbigpIHtcclxuLy8gICAgIHNob3dUaWxlc1Rvb2xCYXIgPSAhc2hvd1RpbGVzVG9vbEJhcjtcclxuLy8gICAgIHRvZ2dsZVRvb2xCYXIoc2hvd1RpbGVzVG9vbEJhciwgb3B0aW9uc1Rvb2xCYXJFbGVtZW50LCBvcHRpb25zVG9vbEJhckJ1dHRvbkVsZW1lbnQpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja1RyaWdnZXJzVG9vbEJhckJ1dHRvbigpIHtcclxuLy8gICAgIHNob3dUcmlnZ2Vyc1Rvb2xCYXIgPSAhc2hvd1RyaWdnZXJzVG9vbEJhcjtcclxuLy8gICAgIHRvZ2dsZVRvb2xCYXIoc2hvd1RyaWdnZXJzVG9vbEJhciwgdHJpZ2dlcnNUb29sQmFyRWxlbWVudCwgdHJpZ2dlcnNUb29sQmFyQnV0dG9uRWxlbWVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrRXZlbnRzVG9vbEJhckJ1dHRvbigpIHtcclxuLy8gICAgIHNob3dFdmVudHNUb29sQmFyID0gIXNob3dFdmVudHNUb29sQmFyO1xyXG4vLyAgICAgdG9nZ2xlVG9vbEJhcihzaG93RXZlbnRzVG9vbEJhciwgZXZlbnRzVG9vbEJhckVsZW1lbnQsIGV2ZW50c1Rvb2xCYXJCdXR0b25FbGVtZW50KTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tBY3Rpb25zVG9vbEJhckJ1dHRvbigpIHtcclxuLy8gICAgIHNob3dBY3Rpb25zVG9vbEJhciA9ICFzaG93QWN0aW9uc1Rvb2xCYXI7XHJcbi8vICAgICB0b2dnbGVUb29sQmFyKHNob3dBY3Rpb25zVG9vbEJhciwgYWN0aW9uc1Rvb2xCYXJFbGVtZW50LCBhY3Rpb25zVG9vbEJhckJ1dHRvbkVsZW1lbnQpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja0NvbmRpdGlvbnNUb29sQmFyQnV0dG9uKCkge1xyXG4vLyAgICAgc2hvd0NvbmRpdGlvbnNUb29sQmFyID0gIXNob3dDb25kaXRpb25zVG9vbEJhcjtcclxuLy8gICAgIHRvZ2dsZVRvb2xCYXIoc2hvd0NvbmRpdGlvbnNUb29sQmFyLCBjb25kaXRpb25zVG9vbEJhckVsZW1lbnQsIGNvbmRpdGlvbnNUb29sQmFyQnV0dG9uRWxlbWVudCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUGFyYW1zVG9vbEJhckJ1dHRvbigpIHtcclxuLy8gICAgIHNob3dQYXJhbXNUb29sQmFyID0gIXNob3dQYXJhbXNUb29sQmFyO1xyXG4vLyAgICAgdG9nZ2xlVG9vbEJhcihzaG93UGFyYW1zVG9vbEJhciwgcGFyYW1zVG9vbEJhckVsZW1lbnQsIHBhcmFtc1Rvb2xCYXJCdXR0b25FbGVtZW50KTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gb25Gb2N1c0lucHV0KCkge1xyXG4vLyAgICAgaW5wdXRMb2NrZWQgPSB0cnVlO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBvbkJsdXJJbnB1dCgpIHtcclxuLy8gICAgIGlucHV0TG9ja2VkID0gZmFsc2U7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHZhbGlkYXRlRXhwb3J0QnV0dG9uKCkge1xyXG4vLyAgICAgaWYgKG1hcE5hbWVJbnB1dC52YWx1ZSA9PSBudWxsIHx8IG1hcE5hbWVJbnB1dC52YWx1ZSA9PSBcIlwiKSB7XHJcbi8vICAgICAgICAgbWFwTmFtZUlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJ3JlZCc7XHJcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgbWFwTmFtZUlucHV0LnN0eWxlLmJvcmRlckNvbG9yID0gJyMzM2FhMzMnO1xyXG4vLyAgICAgICAgIHJldHVybiB0cnVlO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiB2YWxpZGF0ZUltcG9ydEJ1dHRvbigpIHtcclxuLy8gICAgIGlmIChmaWxlSW5wdXQudmFsdWUgPT0gbnVsbCB8fCBmaWxlSW5wdXQudmFsdWUgPT0gXCJcIikge1xyXG4vLyAgICAgICAgIGZpbGVJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICdyZWQnO1xyXG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2Uge1xyXG4vLyAgICAgICAgIGZpbGVJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjMzNhYTMzJztcclxuLy8gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gdG9nZ2xlUGFsZXR0ZU1vZGUob24pIHtcclxuLy8gICAgIHBhbGV0dGVNb2RlID0gb247XHJcbi8vICAgICBpZiAob24pIHtcclxuLy8gICAgICAgICBtb3ZlUGFsZXR0ZSgpO1xyXG4vLyAgICAgICAgIHNlbGVjdFRvb2woMiwgZXllZHJvcHBlclRvb2xCdXR0b24pO1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiB0b2dnbGVDb250ZXh0TWVudSgpIHtcclxuLy8gICAgIGlmIChjb250ZXh0TWVudS5zdHlsZS53aWR0aCAhPSBcIjIwMHB4XCIpIHtcclxuLy8gICAgICAgICBjb250ZXh0TWVudS5zdHlsZS53aWR0aCA9IFwiMjAwcHhcIjtcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2Uge1xyXG4vLyAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLndpZHRoID0gXCIwcHhcIjtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gdG9nZ2xlVG9vbEJhcihzaG93LCB0b29sQmFyRWxlbWVudCwgYnV0dG9uRWxlbWVudCkge1xyXG4vLyAgICAgYnV0dG9uRWxlbWVudC5pbm5lckhUTUwgPSBzaG93ID8gXCIgLSBcIiA6IFwiICsgXCI7XHJcbi8vICAgICB0b29sQmFyRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBzaG93ID8gdG9vbEJhckVsZW1lbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiIDogXCIzNHB4XCI7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHJlc2V0VG9vbHMoKSB7XHJcbi8vICAgICB0b2dnbGVDbGFzcyhlcmFzZXJUb29sQnV0dG9uLCBmYWxzZSwgXCJzZWxlY3RlZFwiKTtcclxuLy8gICAgIHRvZ2dsZUNsYXNzKGV5ZWRyb3BwZXJUb29sQnV0dG9uLCBmYWxzZSwgXCJzZWxlY3RlZFwiKTtcclxuLy8gICAgIHRvZ2dsZUNsYXNzKHdhbGxTbGljZVRvb2xCdXR0b24sIGZhbHNlLCBcInNlbGVjdGVkXCIpO1xyXG4vLyAgICAgdG9nZ2xlQ2xhc3MobmluZVNsaWNlVG9vbEJ1dHRvbiwgZmFsc2UsIFwic2VsZWN0ZWRcIik7XHJcbi8vICAgICB0b2dnbGVDbGFzcyh0cmlnZ2VyVG9vbEJ1dHRvbiwgZmFsc2UsIFwic2VsZWN0ZWRcIik7XHJcbi8vICAgICB0b2dnbGVDbGFzcyhicnVzaFRvb2xCdXR0b24sIGZhbHNlLCBcInNlbGVjdGVkXCIpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBzZWxlY3RUb29sKHRvb2xJbmRleCwgc2VsZWN0ZWRUb29sRWxlbWVudCkge1xyXG4vLyAgICAgc2VsZWN0ZWRUb29sID0gdG9vbEluZGV4O1xyXG4vLyAgICAgdmFyIGN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4vLyAgICAgc3dpdGNoIChzZWxlY3RlZFRvb2wpIHtcclxuLy8gICAgICAgICBjYXNlIDA6XHJcbi8vICAgICAgICAgICAgIGN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlIDE6IGNhc2UgNTpcclxuLy8gICAgICAgICAgICAgY3Vyc29yID0gXCJjcm9zc2hhaXJcIjtcclxuLy8gICAgICAgICAgICAgYnJlYWs7XHJcbi8vICAgICAgICAgY2FzZSAyOlxyXG4vLyAgICAgICAgICAgICBjdXJzb3IgPSBcImhlbHBcIjtcclxuLy8gICAgICAgICAgICAgYnJlYWs7XHJcbi8vICAgICAgICAgY2FzZSAzOlxyXG4vLyAgICAgICAgICAgICBjdXJzb3IgPSBcIm53c2UtcmVzaXplXCI7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgNDpcclxuLy8gICAgICAgICAgICAgY3Vyc29yID0gXCJud3NlLXJlc2l6ZVwiO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgIH1cclxuLy8gICAgIGN0eC5jYW52YXMuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xyXG4vLyAgICAgcmVzZXRUb29scygpO1xyXG4vLyAgICAgdG9nZ2xlQ2xhc3Moc2VsZWN0ZWRUb29sRWxlbWVudCwgdHJ1ZSwgXCJzZWxlY3RlZFwiKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xlYXIoKSB7XHJcbi8vICAgICBjdHguZmlsbFN0eWxlID0gXCIjMjIyXCI7XHJcbi8vICAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3csIGNoKTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoKSB7XHJcbi8vICAgICBpZiAobW91c2VYIDwgMCB8fCBtb3VzZVkgPCAwKSByZXR1cm47XHJcbi8vICAgICBtb3VzZURvd24gPSBmYWxzZTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gbW91c2VEb3duSGFuZGxlcigpIHtcclxuLy8gICAgIGlmIChtb3VzZVggPCAwIHx8IG1vdXNlWSA8IDApIHJldHVybjtcclxuLy8gICAgIG1vdXNlRG93biA9IHRydWU7XHJcblxyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBtb3VzZUNsaWNrSGFuZGxlcihlKSB7XHJcbi8vICAgICBpZiAobW91c2VYIDwgMCB8fCBtb3VzZVkgPCAwKSByZXR1cm47XHJcbi8vICAgICBpZiAoc2VsZWN0ZWRUb29sID09IDApXHJcbi8vICAgICAgICAgYnJ1c2hDbGlja0hhbmRsZXIoKTtcclxuLy8gICAgIGVsc2UgaWYgKHNlbGVjdGVkVG9vbCA9PSAxKVxyXG4vLyAgICAgICAgIGVyYXNlckNsaWNrSGFuZGxlcigpO1xyXG4vLyAgICAgZWxzZSBpZiAoc2VsZWN0ZWRUb29sID09IDIpXHJcbi8vICAgICAgICAgZXllZHJvcHBlckNsaWNrKCk7XHJcbi8vICAgICBlbHNlIGlmIChzZWxlY3RlZFRvb2wgPT0gMylcclxuLy8gICAgICAgICBuaW5lU2xpY2VDbGlja0hhbmRsZXIoKTtcclxuLy8gICAgIGVsc2UgaWYgKHNlbGVjdGVkVG9vbCA9PSA0KVxyXG4vLyAgICAgICAgIHdhbGxTbGljZUNsaWNrSGFuZGxlcigpO1xyXG4vLyAgICAgZWxzZSBpZiAoc2VsZWN0ZWRUb29sID09IDUpXHJcbi8vICAgICAgICAgdHJpZ2dlckJydXNoQ2xpY2tIYW5kbGVyKCk7XHJcbi8vICAgICBlbHNlIGlmIChzZWxlY3RlZFRvb2wgPT0gNilcclxuLy8gICAgICAgICBldmVudEJydXNoQ2xpY2tIYW5kbGVyKCk7XHJcbi8vICAgICBlbHNlIGlmIChzZWxlY3RlZFRvb2wgPT0gNylcclxuLy8gICAgICAgICBhY3Rpb25CcnVzaENsaWNrSGFuZGxlcigpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiByZXNldEJydXNoVG9vbCgpIHtcclxuLy8gICAgIGJydXNoVG9vbC5tb2RlID0gMDtcclxuLy8gICAgIGJydXNoVG9vbC5zdGF0ZSA9IDA7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGV5ZWRyb3BwZXJDbGljaygpIHtcclxuLy8gICAgIHJlc2V0QnJ1c2hUb29sKCk7XHJcbi8vICAgICBpZiAocGFsZXR0ZU1vZGUpIHtcclxuLy8gICAgICAgICBwYWxldHRlLmZvckVhY2goZnVuY3Rpb24gKHRpbGUsIGluZGV4KSB7XHJcbi8vICAgICAgICAgICAgIGlmICh0aWxlLnhQb3NpdGlvbiA9PSBtb3VzZVggJiYgdGlsZS55UG9zaXRpb24gPT0gbW91c2VZKSB7XHJcbi8vICAgICAgICAgICAgICAgICB1cGRhdGVQYWludEJydXNoUHJldmlld0Zyb21FeWVkcm9wcGVyKHRpbGUpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgICBsYXllcnNbY3VycmVudExheWVyXS50aWxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0aWxlLCBpbmRleCkge1xyXG4vLyAgICAgICAgICAgICBpZiAodGlsZS54UG9zaXRpb24gPT0gbW91c2VYICYmIHRpbGUueVBvc2l0aW9uID09IG1vdXNlWSkge1xyXG4vLyAgICAgICAgICAgICAgICAgdXBkYXRlTGFzdFRpbGUoY3VycmVudExheWVyLCB0aWxlKTtcclxuLy8gICAgICAgICAgICAgICAgIHVwZGF0ZVBhaW50QnJ1c2hQcmV2aWV3RnJvbUV5ZWRyb3BwZXIodGlsZSk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihlKSB7XHJcbi8vICAgICBpZiAoZS5idXR0b24gIT0gMCkgcmV0dXJuO1xyXG4vLyAgICAgaWYgKG1vdXNlRG93biAmJiBicnVzaFRvb2wubW9kZSA9PSAwKSBtb3VzZUNsaWNrSGFuZGxlcigpO1xyXG4vLyAgICAgaWYgKGUubGF5ZXJYKSB7XHJcbi8vICAgICAgICAgbW91c2VYID0gTWF0aC5mbG9vcigoZS5sYXllclgpIC8gMzIpO1xyXG4vLyAgICAgICAgIG1vdXNlWSA9IE1hdGguZmxvb3IoKGUubGF5ZXJZKSAvIDMyKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24ga2V5UHJlc3NIYW5kbGVyKGV2ZW50KSB7XHJcbi8vICAgICBpZiAoaW5wdXRMb2NrZWQpIHJldHVybjtcclxuLy8gICAgIHZhciBrZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmtleUNvZGUgfHwgZXZlbnQuY2hhckNvZGUpLnRvVXBwZXJDYXNlKCk7XHJcbi8vICAgICB2YXIgc2hpZnQgPSBldmVudC5zaGlmdEtleTtcclxuLy8gICAgIHZhciBjdHJsID0gZXZlbnQuY3RybEtleTtcclxuLy8gICAgIHN3aXRjaCAoa2V5KSB7XHJcbi8vICAgICAgICAgY2FzZSAnUSc6XHJcbi8vICAgICAgICAgICAgIHRvZ2dsZUNvbnRleHRNZW51KCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgJ0InOlxyXG4vLyAgICAgICAgICAgICBjbGlja1BhaW50VG9vbCgpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdQJzogXHJcbi8vICAgICAgICAgICAgIGNsaWNrUGFsZXR0ZUJ1dHRvbigpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdYJzogXHJcbi8vICAgICAgICAgICAgIGNsaWNrVG9nZ2xlWFJheSgpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdGJzogXHJcbi8vICAgICAgICAgICAgIGNsaWNrVG9nZ2xlRm9nKCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgJ1onOlxyXG4vLyAgICAgICAgICAgICBjbGlja1RvZ2dsZVBlcnNwZWN0aXZlKCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgJ0UnOiBcclxuLy8gICAgICAgICAgICAgY2xpY2tFcmFzZXJUb29sKCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgJ0knOiBcclxuLy8gICAgICAgICAgICAgY2xpY2tFeWVkcm9wcGVyVG9vbCgpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdXJzogXHJcbi8vICAgICAgICAgICAgIGNsaWNrV2FsbFNsaWNlVG9vbCgpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdOJzogXHJcbi8vICAgICAgICAgICAgIGNsaWNrTmluZVNsaWNlVG9vbCgpO1xyXG4vLyAgICAgICAgICAgICBicmVhaztcclxuLy8gICAgICAgICBjYXNlICdUJzpcclxuLy8gICAgICAgICAgICAgY2xpY2tUcmlnZ2VyQnJ1c2hUb29sKCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4vLyAgICAgICAgIGNhc2UgJ1MnOlxyXG4vLyAgICAgICAgICAgICBjbGlja1N1YnRpbGVUb29sKCk7XHJcbi8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgXHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNyZWF0ZU1hcE9iamVjdCgpIHtcclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgbmFtZTogbWFwTmFtZUlucHV0LnZhbHVlLFxyXG4vLyAgICAgICAgIGxheWVyczogbGF5ZXJzLFxyXG4vLyAgICAgICAgIHBhbGV0dGU6IHBhbGV0dGUsXHJcbi8vICAgICAgICAgdHJpZ2dlcnM6IHRyaWdnZXJzLFxyXG4vLyAgICAgICAgIGdhbWVTdGF0ZTogZ2FtZVN0YXRlLFxyXG4vLyAgICAgICAgIHBsYXllclN0YXRlOnBsYXllclN0YXRlXHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHN0YXJ0UmVhZCgpIHtcclxuLy8gICAgIHZhciBmaWxlID0gZmlsZUlucHV0LmZpbGVzWzBdO1xyXG4vLyAgICAgaWYgKGZpbGUpIHtcclxuLy8gICAgICAgICBnZXRBc1RleHQoZmlsZSk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdldEFzVGV4dChyZWFkRmlsZSkge1xyXG4vLyAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbi8vICAgICByZWFkZXIucmVhZEFzVGV4dChyZWFkRmlsZSwgXCJVVEYtOFwiKTtcclxuLy8gICAgIHJlYWRlci5vbnByb2dyZXNzID0gdXBkYXRlUHJvZ3Jlc3M7XHJcbi8vICAgICByZWFkZXIub25sb2FkID0gbG9hZGVkO1xyXG4vLyAgICAgcmVhZGVyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKGV2dCkge1xyXG4vLyAgICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbi8vICAgICAgICAgdmFyIGxvYWRlZCA9IChldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuLy8gICAgICAgICBpZiAobG9hZGVkIDwgMSkge1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gbG9hZGVkKGV2dCkge1xyXG4vLyAgICAgdmFyIGZpbGVTdHJpbmcgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuLy8gICAgIHZhciBtYXAgPSBKU09OLnBhcnNlKGZpbGVTdHJpbmcpO1xyXG4vLyAgICAgbGF5ZXJzID0gbWFwLmxheWVycztcclxuLy8gICAgIHBhbGV0dGUgPSBtYXAucGFsZXR0ZTtcclxuLy8gICAgIHRyaWdnZXJzID0gbWFwLnRyaWdnZXJzO1xyXG4vLyAgICAgcGxheWVyU3RhdGUgPSBtYXAucGxheWVyU3RhdGU7XHJcbi8vICAgICBnYW1lU3RhdGUgPSBtYXAuZ2FtZVN0YXRlO1xyXG4vLyAgICAgbWFwTmFtZUlucHV0LnBsYWNlaG9sZGVyID0gbWFwLm5hbWU7XHJcbi8vICAgICBtYXBOYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4vLyAgICAgdXBkYXRlTGF5ZXJzUHJldmlldygpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBlcnJvckhhbmRsZXIoZXZ0KSB7XHJcbi8vICAgICBhbGVydChcIkVycm9yIHJlYWRpbmcgZmlsZS4gXCIgKyBldnQudGFyZ2V0LmVycm9yLm5hbWUpO1xyXG4gICAgXHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdlbklEKCkge1xyXG4vLyAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCBvbiwgY2xhc3NOYW1lKSB7XHJcbi8vICAgICBpZiAob24pIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4vLyAgICAgZWxzZSBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuLy8gfVxyXG5cclxuLy8gdmFyIGFkZEV2ZW50ID0gZnVuY3Rpb24gKG9iamVjdCwgdHlwZSwgY2FsbGJhY2spIHtcclxuLy8gICAgIGlmIChvYmplY3QgPT0gbnVsbCB8fCB0eXBlb2YgKG9iamVjdCkgPT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuLy8gICAgIGlmIChvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4vLyAgICAgICAgIG9iamVjdC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBmYWxzZSk7XHJcbi8vICAgICB9IGVsc2UgaWYgKG9iamVjdC5hdHRhY2hFdmVudCkge1xyXG4vLyAgICAgICAgIG9iamVjdC5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBjYWxsYmFjayk7XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIG9iamVjdFtcIm9uXCIgKyB0eXBlXSA9IGNhbGxiYWNrO1xyXG4vLyAgICAgfVxyXG4vLyB9O1xyXG5cclxufSJdLCJzb3VyY2VSb290Ijoic3JjIn0=

define('map-editor-triggers',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var MapEditorTriggers = (function () {
        function MapEditorTriggers(triggers) {
            if (triggers === void 0) { triggers = new Array(); }
            this.triggers = triggers;
        }
        return MapEditorTriggers;
    }());
    exports.MapEditorTriggers = MapEditorTriggers;
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC1lZGl0b3ItdHJpZ2dlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBR0E7UUFFSSwyQkFBbUIsUUFBK0M7WUFBL0MseUJBQUEsRUFBQSxlQUFlLEtBQUssRUFBMkI7WUFBL0MsYUFBUSxHQUFSLFFBQVEsQ0FBdUM7UUFHbEUsQ0FBQztRQUNMLHdCQUFDO0lBQUQsQ0FOQSxBQU1DLElBQUE7SUFOWSw4Q0FBaUIiLCJmaWxlIjoibWFwLWVkaXRvci10cmlnZ2Vycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpTWFwRWRpdG9yVHlwZXMgPSByZXF1aXJlKFwiLi9tYXAtZWRpdG9yLXR5cGVzXCIpO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNYXBFZGl0b3JUcmlnZ2Vyc1xyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdHJpZ2dlcnMgPSBuZXcgQXJyYXk8aU1hcEVkaXRvclR5cGVzLlRyaWdnZXI+KCkpXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG4vLyB2YXIgdHJpZ2dlcnMgPSBbXTtcclxuLy8gdmFyIGN1cnJlbnRUcmlnZ2VyID0gMDtcclxuLy8gdmFyIHZpZXdUcmlnZ2VycyA9IHRydWU7XHJcblxyXG4vLyBmdW5jdGlvbiBkcmF3VHJpZ2dlcnNMb29wKCkge1xyXG4vLyAgICAgaWYgKCF2aWV3VHJpZ2dlcnMpIHJldHVybjtcclxuLy8gICAgIGlmIChzZWxlY3RlZFRvb2wgPT0gNSkge1xyXG4vLyAgICAgICAgIGlmIChicnVzaFRvb2wuc3RhdGUgPT0gMSlcclxuLy8gICAgICAgICB7XHJcbi8vICAgICAgICAgICAgIHZhciB1cHBlckJvdW5kWCA9IGJydXNoVG9vbC54UG9zMSA+IG1vdXNlWCA/IGJydXNoVG9vbC54UG9zMSA6IG1vdXNlWDtcclxuLy8gICAgICAgICAgICAgdmFyIGxvd2VyQm91bmRYID0gYnJ1c2hUb29sLnhQb3MxIDwgbW91c2VYID8gYnJ1c2hUb29sLnhQb3MxIDogbW91c2VYO1xyXG4vLyAgICAgICAgICAgICB2YXIgdXBwZXJCb3VuZFkgPSBicnVzaFRvb2wueVBvczEgPiBtb3VzZVkgPyBicnVzaFRvb2wueVBvczEgOiBtb3VzZVk7XHJcbi8vICAgICAgICAgICAgIHZhciBsb3dlckJvdW5kWSA9IGJydXNoVG9vbC55UG9zMSA8IG1vdXNlWSA/IGJydXNoVG9vbC55UG9zMSA6IG1vdXNlWTtcclxuLy8gICAgICAgICAgICAgdmFyIGZha2VUcmlnZ2VyID0ge1xyXG4vLyAgICAgICAgICAgICAgICAgbmFtZTogXCJcIixcclxuLy8gICAgICAgICAgICAgICAgIGxheWVyOiBjdXJyZW50TGF5ZXIsXHJcbi8vICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHsgeDogbG93ZXJCb3VuZFgsIHk6IGxvd2VyQm91bmRZLCB3aWR0aDogMSt1cHBlckJvdW5kWCAtIGxvd2VyQm91bmRYLCBoZWlnaHQ6IDErdXBwZXJCb3VuZFkgLSBsb3dlckJvdW5kWSB9XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIGRyYXdUcmlnZ2VyKGZha2VUcmlnZ2VyLCBmYWxzZSwgMCwgMCwgbGF5ZXJzW2N1cnJlbnRMYXllcl0sIGZhbHNlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgZWxzZSB7XHJcbi8vICAgICAgICAgICAgIHZhciBmYWtlVHJpZ2dlciA9IHtcclxuLy8gICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXHJcbi8vICAgICAgICAgICAgICAgICBsYXllcjogY3VycmVudExheWVyLFxyXG4vLyAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB7IHg6IG1vdXNlWCwgeTogbW91c2VZLCB3aWR0aDogMSwgaGVpZ2h0OjEgfVxyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBkcmF3VHJpZ2dlcihmYWtlVHJpZ2dlciwgZmFsc2UsIDAsIDAsIGxheWVyc1tjdXJyZW50TGF5ZXJdLCBmYWxzZSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgIH1cclxuLy8gICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIsaW5kZXgpIHtcclxuLy8gICAgICAgICBkcmF3VHJpZ2dlcldpdGhPZmZzZXQodHJpZ2dlciwgaW5kZXggPT0gY3VycmVudFRyaWdnZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGRyYXdUcmlnZ2VyKHRyaWdnZXIsIHNlbGVjdGVkLCBvZmZ4LCBvZmZ5LCB0aGlzTGF5ZXJPYmosIGVycm9yKSB7XHJcbi8vICAgICB2YXIgdGhpc0xheWVyID0gY3VycmVudExheWVyID09IHRyaWdnZXIubGF5ZXI7XHJcbi8vICAgICB2YXIgbGFiZWwgPSB0cmlnZ2VyLm5hbWUgKyAoZXJyb3I/XCJNaXNzaW5nIExheWVyXCIgOighdGhpc0xheWVyID8gXCIgXCIgKyB0aGlzTGF5ZXJPYmoubmFtZSA6IFwiXCIpKTtcclxuLy8gICAgIHZhciB4ID0gKHRyaWdnZXIudHJhbnNmb3JtLnggKiAxNikgKyBvZmZ4LFxyXG4vLyAgICAgICAgIHkgPSAodHJpZ2dlci50cmFuc2Zvcm0ueSAqIDE2KSArIG9mZnksXHJcbi8vICAgICAgICAgd2lkdGggPSB0cmlnZ2VyLnRyYW5zZm9ybS53aWR0aCAqIDE2LFxyXG4vLyAgICAgICAgIGhlaWdodCA9IHRyaWdnZXIudHJhbnNmb3JtLmhlaWdodCAqIDE2O1xyXG5cclxuLy8gICAgIHZhciB0cmFuc3BhcmVudENvbG9yID0gZXJyb3IgPyBcInJnYmEoMjU1LDAsMCwwLjEpXCIgOiBzZWxlY3RlZCA/XHJcbi8vICAgICAgICAgKCF0aGlzTGF5ZXIgPyBcInJnYmEoMjU1LDI1NSwyNTUsMC4wNSlcIiA6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCIpXHJcbi8vICAgICAgICAgOiB0aGlzTGF5ZXIgPyBcInJnYmEoMCwyMDAsMCwwLjUpXCJcclxuLy8gICAgICAgICA6IFwicmdiYSgwLDIwMCwwLDAuMDUpXCI7XHJcblxyXG4vLyAgICAgdmFyIHNvbGlkQ29sb3IgPSBzZWxlY3RlZCA/IFwicmdiKDI1NSwyNTUsMjU1KVwiIDogIXRoaXNMYXllciA/IFwicmdiYSgwLDIwMCwwLDAuMSlcIiA6IFwicmdiKDAsMjAwLDApXCI7XHJcbi8vICAgICBjdHguZmlsbFN0eWxlID0gdHJhbnNwYXJlbnRDb2xvcjtcclxuLy8gICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuLy8gICAgIGN0eC5zdHJva2VTdHlsZSA9IHNvbGlkQ29sb3I7XHJcbi8vICAgICBjdHguc3Ryb2tlUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuLy8gICAgIGN0eC5maWxsU3R5bGUgPSAhdGhpc0xheWVyID8gXCJyZ2JhKDAsMCwwLDAuMSlcIiA6ICcjMDAwJztcclxuLy8gICAgIGN0eC5maWxsVGV4dCh0cmlnZ2VyLm5hbWUsIHgsIHkgKyBoZWlnaHQgKyAxNik7XHJcbi8vICAgICBjdHguZmlsbFN0eWxlID0gc29saWRDb2xvcjtcclxuLy8gICAgIGN0eC5maWxsVGV4dChsYWJlbCwgeCArIDEsIHkgKyBoZWlnaHQgKyAxNSk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGRyYXdUcmlnZ2VyV2l0aE9mZnNldCh0cmlnZ2VyLCBzZWxlY3RlZCkge1xyXG4vLyAgICAgdmFyIHRoaXNMYXllck9iaiA9IGxheWVyc1t0cmlnZ2VyLmxheWVyXTtcclxuLy8gICAgIHZhciBlcnJvciA9IHRoaXNMYXllck9iaiA9PSBudWxsO1xyXG4vLyAgICAgaWYgKHBlcnNwZWN0aXZlVmlldykge1xyXG4vLyAgICAgICAgIHZhciBvcmRlciA9IHRoaXNMYXllck9iaiAhPSBudWxsID8gdGhpc0xheWVyT2JqLm9yZGVyOjA7XHJcbi8vICAgICAgICAgdmFyIGN1cnJlbnRPcmRlciA9IGxheWVyc1tjdXJyZW50TGF5ZXJdLm9yZGVyO1xyXG4vLyAgICAgICAgIHZhciBvZmZzZXRJbmRleCA9IG9yZGVyIC0gY3VycmVudE9yZGVyO1xyXG4vLyAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBjdXJyZW50T3JkZXIgPj0gb3JkZXI7XHJcbi8vICAgICAgICAgdmFyIG1vdXNlWG9mZnNldCA9IG1vdXNlWCAtIChzeCk7XHJcbi8vICAgICAgICAgdmFyIG1vdXNlWW9mZnNldCA9IG1vdXNlWSAtIChzeSk7XHJcbi8vICAgICAgICAgdmFyIG9mZlggPSAobW91c2VYb2Zmc2V0ICogb2Zmc2V0SW5kZXggLyAyKSAqIChkaXJlY3Rpb24gPyAxIDogLTEpO1xyXG4vLyAgICAgICAgIHZhciBvZmZZID0gKG1vdXNlWW9mZnNldCAqIG9mZnNldEluZGV4IC8gMikgKiAoZGlyZWN0aW9uID8gMSA6IC0xKTtcclxuLy8gICAgICAgICBkcmF3VHJpZ2dlcih0cmlnZ2VyLCBzZWxlY3RlZCwgb2ZmWCwgb2ZmWSwgdGhpc0xheWVyT2JqLCBlcnJvcik7XHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgICBkcmF3VHJpZ2dlcih0cmlnZ2VyLCBzZWxlY3RlZCwgMCwgMCwgdGhpc0xheWVyT2JqLCBlcnJvcik7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGdlbmVyYXRlSFRNTEZvclRyaWdnZXJzUHJldmlldygpIHtcclxuLy8gICAgIHZhciByb3dzID0gXCJcIjtcclxuLy8gICAgIHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyaWdnZXIsIGluZGV4KSB7XHJcbi8vICAgICAgICAgdmFyIGNsYXNzZXMgPSBcImJ1dHRvblwiICsgKGN1cnJlbnRUcmlnZ2VyID09IGluZGV4ID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCIpO1xyXG4vLyAgICAgICAgIHJvd3MgKz0gXCI8ZGl2IGNsYXNzPSdcIiArIGNsYXNzZXMgKyBcIicgb25jbGljaz0nY2xpY2tTZWxlY3RUcmlnZ2VyKFwiICsgaW5kZXggKyBcIiknPlwiICsgdHJpZ2dlci5uYW1lICsgXCIgPC9kaXY+XCI7XHJcbi8vICAgICB9KTtcclxuLy8gICAgIHJldHVybiBcIjxkaXY+XCIgKyByb3dzICsgXCI8L2Rpdj5cIjtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tTZWxlY3RUcmlnZ2VyKGluZGV4KSB7XHJcbi8vICAgICBjdXJyZW50VHJpZ2dlciA9IGluZGV4O1xyXG4vLyAgICAgdXBkYXRlVHJpZ2dlcnNQcmV2aWV3KCk7XHJcbiAgXHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUmVuYW1lVHJpZ2dlcigpIHtcclxuLy8gICAgIHRyaWdnZXJzW2N1cnJlbnRUcmlnZ2VyXS5uYW1lID0gcmVuYW1lVHJpZ2dlcklucHV0LnZhbHVlO1xyXG4vLyAgICAgdXBkYXRlVHJpZ2dlcnNQcmV2aWV3KCk7XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIHVwZGF0ZVRyaWdnZXJzUHJldmlldygpIHtcclxuLy8gICAgIGlmIChjdXJyZW50VHJpZ2dlciA9PSBudWxsKSByZXR1cm47XHJcbi8vICAgICB2YXIgdHJpZ2dlciA9IGdldEN1cnJlbnRUcmlnZ2VyKCk7XHJcbi8vICAgICB1cGRhdGVFdmVudHNQcmV2aWV3KHRyaWdnZXIpO1xyXG4vLyAgICAgdmlld1RyaWdnZXJzID0gdHJ1ZTtcclxuLy8gICAgIHJlZnJlc2hUaWxlSW5mbyhsYXN0VGlsZS50aWxlKTtcclxuLy8gICAgIHRyaWdnZXJzUHJldmlldy5pbm5lckhUTUwgPSBnZW5lcmF0ZUhUTUxGb3JUcmlnZ2Vyc1ByZXZpZXcoKTtcclxuLy8gICAgIHJlbmFtZVRyaWdnZXJJbnB1dC5wbGFjZWhvbGRlciA9IHRyaWdnZXJzW2N1cnJlbnRUcmlnZ2VyXS5uYW1lO1xyXG4vLyAgICAgcmVuYW1lVHJpZ2dlcklucHV0LnZhbHVlID0gXCJcIjtcclxuLy8gICAgIHNob3dUcmlnZ2Vyc1Rvb2xCYXIgPSB0cnVlO1xyXG4vLyAgICAgdG9nZ2xlVG9vbEJhcih0cnVlLCB0cmlnZ2Vyc1Rvb2xCYXJFbGVtZW50LCB0cmlnZ2Vyc1Rvb2xCYXJCdXR0b25FbGVtZW50KTtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xpY2tDcmVhdGVUcmlnZ2VyQXJlYSgpIHtcclxuLy8gICAgIHZhciB1cHBlckJvdW5kWCA9IGJydXNoVG9vbC54UG9zMSA+IGJydXNoVG9vbC54UG9zMiA/IGJydXNoVG9vbC54UG9zMSA6IGJydXNoVG9vbC54UG9zMjtcclxuLy8gICAgIHZhciBsb3dlckJvdW5kWCA9IGJydXNoVG9vbC54UG9zMSA8IGJydXNoVG9vbC54UG9zMiA/IGJydXNoVG9vbC54UG9zMSA6IGJydXNoVG9vbC54UG9zMjtcclxuLy8gICAgIHZhciB1cHBlckJvdW5kWSA9IGJydXNoVG9vbC55UG9zMSA+IGJydXNoVG9vbC55UG9zMiA/IGJydXNoVG9vbC55UG9zMSA6IGJydXNoVG9vbC55UG9zMjtcclxuLy8gICAgIHZhciBsb3dlckJvdW5kWSA9IGJydXNoVG9vbC55UG9zMSA8IGJydXNoVG9vbC55UG9zMiA/IGJydXNoVG9vbC55UG9zMSA6IGJydXNoVG9vbC55UG9zMjtcclxuLy8gICAgIHRyaWdnZXJzLnB1c2goY3JlYXRlVHJpZ2dlcihcclxuLy8gICAgICAgICBcImFyZWEgdHJpZ2dlciBcIiArIHRyaWdnZXJzLmxlbmd0aCxcclxuLy8gICAgICAgICB7IHg6IGxvd2VyQm91bmRYLCB5OiBsb3dlckJvdW5kWSwgd2lkdGg6ICh1cHBlckJvdW5kWCAtIGxvd2VyQm91bmRYKSArIDEsIGhlaWdodDogKHVwcGVyQm91bmRZIC0gbG93ZXJCb3VuZFkpICsgMSwgfSkpO1xyXG4vLyAgICAgY3VycmVudFRyaWdnZXIgPSB0cmlnZ2Vycy5sZW5ndGggLSAxO1xyXG4vLyAgICAgdXBkYXRlVHJpZ2dlcnNQcmV2aWV3KCk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyBmdW5jdGlvbiB0cmlnZ2VyQnJ1c2hDbGlja0hhbmRsZXIoKSB7XHJcbi8vICAgICBicnVzaFRvb2wubW9kZSA9IDM7XHJcbi8vICAgICBicnVzaFRvb2wuc3RhdGUgPSBicnVzaFRvb2wuc3RhdGUgPT0gMCA/IDEgOiAwO1xyXG5cclxuLy8gICAgIGlmIChicnVzaFRvb2wuc3RhdGUgPT0gMSkge1xyXG4vLyAgICAgICAgIGJydXNoVG9vbC54UG9zMSA9IG1vdXNlWDtcclxuLy8gICAgICAgICBicnVzaFRvb2wueVBvczEgPSBtb3VzZVk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKGJydXNoVG9vbC5zdGF0ZSA9PSAwKSB7XHJcbi8vICAgICAgICAgYnJ1c2hUb29sLnhQb3MyID0gbW91c2VYO1xyXG4vLyAgICAgICAgIGJydXNoVG9vbC55UG9zMiA9IG1vdXNlWTtcclxuLy8gICAgICAgICBjbGlja0NyZWF0ZVRyaWdnZXJBcmVhKCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIGNsaWNrUmVtb3ZlU2VsZWN0ZWRUcmlnZ2VyKCkge1xyXG4vLyAgICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA9PSAwKSByZXR1cm47XHJcbi8vICAgICB0cmlnZ2Vycy5zcGxpY2UoY3VycmVudFRyaWdnZXIsIDEpO1xyXG4vLyAgICAgY3VycmVudFRyaWdnZXItLTtcclxuLy8gICAgIHVwZGF0ZVRyaWdnZXJzUHJldmlldygpO1xyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGlja1RvZ2dsZVRpZ2dlclZpZXdNb2RlKCkge1xyXG4vLyAgICAgdmlld1RyaWdnZXJzID0gIXZpZXdUcmlnZ2VycztcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcihuYW1lLCB0cmFuc2Zvcm0pIHtcclxuLy8gICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgaWQ6IFwidHJpZ2dlclwiLFxyXG4vLyAgICAgICAgIGV2ZW50czogW10sXHJcbi8vICAgICAgICAgbmFtZTogbmFtZSxcclxuLy8gICAgICAgICBsYXllcjpjdXJyZW50TGF5ZXIsXHJcbi8vICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1cclxuLy8gICAgIH07XHJcbi8vIH0iXSwic291cmNlUm9vdCI6InNyYyJ9

define('map-editor-types',["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var Tile = (function () {
        function Tile(x, y, xIndex, yIndex, yPosition, xPosition, name) {
            if (x === void 0) { x = 0; }
            if (y === void 0) { y = 0; }
            if (xIndex === void 0) { xIndex = 0; }
            if (yIndex === void 0) { yIndex = 0; }
            if (yPosition === void 0) { yPosition = 0; }
            if (xPosition === void 0) { xPosition = 0; }
            if (name === void 0) { name = ""; }
            this.x = x;
            this.y = y;
            this.xIndex = xIndex;
            this.yIndex = yIndex;
            this.yPosition = yPosition;
            this.xPosition = xPosition;
            this.name = name;
        }
        return Tile;
    }());
    exports.Tile = Tile;
    var Layer = (function () {
        function Layer(x, y) {
            if (x === void 0) { x = 0; }
            if (y === void 0) { y = 0; }
            this.x = x;
            this.y = y;
        }
        return Layer;
    }());
    exports.Layer = Layer;
    var Trigger = (function () {
        function Trigger(name, layer) {
            if (name === void 0) { name = ""; }
            if (layer === void 0) { layer = new Layer(); }
            this.name = name;
            this.layer = layer;
        }
        return Trigger;
    }());
    exports.Trigger = Trigger;
    var Action = (function () {
        function Action(name, type, params, id) {
            if (name === void 0) { name = ""; }
            if (type === void 0) { type = "Action"; }
            if (params === void 0) { params = []; }
            if (id === void 0) { id = ""; }
            this.name = name;
            this.type = type;
            this.params = params;
            this.id = id;
            this.id = genId();
        }
        return Action;
    }());
    exports.Action = Action;
    function genId() {
        return Math.random().toString(36).substr(2, 9);
    }
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hcC1lZGl0b3ItdHlwZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0lBQUE7UUFDRyxjQUNRLENBQUksRUFDSixDQUFJLEVBQ0osTUFBVSxFQUNWLE1BQVUsRUFDVixTQUFZLEVBQ1osU0FBYSxFQUNiLElBQVM7WUFOVCxrQkFBQSxFQUFBLEtBQUk7WUFDSixrQkFBQSxFQUFBLEtBQUk7WUFDSix1QkFBQSxFQUFBLFVBQVU7WUFDVix1QkFBQSxFQUFBLFVBQVU7WUFDViwwQkFBQSxFQUFBLGFBQVk7WUFDWiwwQkFBQSxFQUFBLGFBQWE7WUFDYixxQkFBQSxFQUFBLFNBQVM7WUFOVCxNQUFDLEdBQUQsQ0FBQyxDQUFHO1lBQ0osTUFBQyxHQUFELENBQUMsQ0FBRztZQUNKLFdBQU0sR0FBTixNQUFNLENBQUk7WUFDVixXQUFNLEdBQU4sTUFBTSxDQUFJO1lBQ1YsY0FBUyxHQUFULFNBQVMsQ0FBRztZQUNaLGNBQVMsR0FBVCxTQUFTLENBQUk7WUFDYixTQUFJLEdBQUosSUFBSSxDQUFLO1FBR2hCLENBQUM7UUFDTCxXQUFDO0lBQUQsQ0FaQSxBQVlDLElBQUE7SUFaWSxvQkFBSTtJQWNqQjtRQUNHLGVBQ1EsQ0FBSSxFQUNKLENBQUk7WUFESixrQkFBQSxFQUFBLEtBQUk7WUFDSixrQkFBQSxFQUFBLEtBQUk7WUFESixNQUFDLEdBQUQsQ0FBQyxDQUFHO1lBQ0osTUFBQyxHQUFELENBQUMsQ0FBRztRQUdYLENBQUM7UUFDTCxZQUFDO0lBQUQsQ0FQQSxBQU9DLElBQUE7SUFQWSxzQkFBSztJQVNsQjtRQUNHLGlCQUNRLElBQVEsRUFDUixLQUFtQjtZQURuQixxQkFBQSxFQUFBLFNBQVE7WUFDUixzQkFBQSxFQUFBLFlBQVksS0FBSyxFQUFFO1lBRG5CLFNBQUksR0FBSixJQUFJLENBQUk7WUFDUixVQUFLLEdBQUwsS0FBSyxDQUFjO1FBRzFCLENBQUM7UUFDTCxjQUFDO0lBQUQsQ0FQQSxBQU9DLElBQUE7SUFQWSwwQkFBTztJQVNwQjtRQUNHLGdCQUNRLElBQVEsRUFDUixJQUFlLEVBQ2YsTUFBVyxFQUNYLEVBQUs7WUFITCxxQkFBQSxFQUFBLFNBQVE7WUFDUixxQkFBQSxFQUFBLGVBQWU7WUFDZix1QkFBQSxFQUFBLFdBQVc7WUFDWCxtQkFBQSxFQUFBLE9BQUs7WUFITCxTQUFJLEdBQUosSUFBSSxDQUFJO1lBQ1IsU0FBSSxHQUFKLElBQUksQ0FBVztZQUNmLFdBQU0sR0FBTixNQUFNLENBQUs7WUFDWCxPQUFFLEdBQUYsRUFBRSxDQUFHO1lBRVIsSUFBSSxDQUFDLEVBQUUsR0FBRyxLQUFLLEVBQUUsQ0FBQTtRQUNyQixDQUFDO1FBQ0wsYUFBQztJQUFELENBVEEsQUFTQyxJQUFBO0lBVFksd0JBQU07SUFXbkI7UUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUMiLCJmaWxlIjoibWFwLWVkaXRvci10eXBlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBUaWxle1xyXG4gICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyB4ID0wLFxyXG4gICAgcHVibGljIHkgPTAsXHJcbiAgICBwdWJsaWMgeEluZGV4ID0gMCxcclxuICAgIHB1YmxpYyB5SW5kZXggPSAwLFxyXG4gICAgcHVibGljIHlQb3NpdGlvbiA9MCxcclxuICAgIHB1YmxpYyB4UG9zaXRpb24gPSAwLFxyXG4gICAgcHVibGljIG5hbWUgPSBcIlwiKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExheWVye1xyXG4gICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyB4ID0wLFxyXG4gICAgcHVibGljIHkgPTApXHJcbiAgICB7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHJpZ2dlcntcclxuICAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgbmFtZT0gXCJcIixcclxuICAgIHB1YmxpYyBsYXllciA9IG5ldyBMYXllcigpKVxyXG4gICAge1xyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGlvbntcclxuICAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgbmFtZT0gXCJcIixcclxuICAgIHB1YmxpYyB0eXBlID0gXCJBY3Rpb25cIixcclxuICAgIHB1YmxpYyBwYXJhbXMgPSBbXSxcclxuICAgIHB1YmxpYyBpZD1cIlwiKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaWQgPSBnZW5JZCgpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbklkKCl7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6InNyYyJ9

define('text!app.html', ['module'], function(module) { module.exports = "<template><canvas id=\"MapEditorCanvas\"></canvas></template>"; });
define('text!map-editor-canvas.html', ['module'], function(module) { module.exports = ""; });
define('text!map-editor-tools.html', ['module'], function(module) { module.exports = ""; });
define('text!map-editor-triggers.html', ['module'], function(module) { module.exports = ""; });
//# sourceMappingURL=app-bundle.js.map